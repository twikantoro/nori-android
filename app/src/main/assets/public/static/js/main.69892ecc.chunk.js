(this["webpackJsonpnori-four"]=this["webpackJsonpnori-four"]||[]).push([[6],{100:function(e,a,t){},139:function(e,a,t){},140:function(e,a,t){},141:function(e,a,t){},142:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(37),i=t.n(l),c=t(5),o=t(45),u=t(70),s=t(3),m=t(1),d=t(71),p=(t(90),t(91),t(92),t(93),t(94),t(95),t(96),t(97),t(98),t(99),t(18)),f=(t(100),t(4)),g=t.n(f),E=t(7),b=t(10),h=t.n(b),k=t(24),y=t.n(k);t(117),t(119),t(143);y.a.initializeApp({apiKey:"AIzaSyB5Z9FXmzH-_Z15QDYNg6boA28ak3tRbPE",authDomain:"nori-api-24aca.firebaseapp.com",databaseURL:"https://nori-api-24aca.firebaseio.com",projectId:"nori-api-24aca",storageBucket:"nori-api-24aca.appspot.com",messagingSenderId:"914353176827",appId:"1:914353176827:web:62007b927ed004d487f05e",measurementId:"G-7DD8HNBMEV"}),y.a.auth().setPersistence(y.a.auth.Auth.Persistence.LOCAL);var j=y.a.firestore();function O(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function v(e,a,t){return S.apply(this,arguments)}function S(){return(S=Object(E.a)(g.a.mark((function e(a,t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.auth().signInWithEmailAndPassword(a,t).then((function(e){console.log(e),n("Berhasil")})).catch((function(e){console.log(e),"auth/user-not-found"===e.code?n("User tidak ditemukan"):"auth/wrong-password"===e.code?n("Password salah"):n("Anda sedang offline")}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,a,t){return T.apply(this,arguments)}function T(){return(T=Object(E.a)(g.a.mark((function e(a,t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.auth().createUserWithEmailAndPassword(a,t).then((function(e){n("Berhasil"),document.location.href="/login"})).catch((function(e){n("Error: The email address is already in use by another account."===e?"Email sudah terdaftar":"Terjadi kesalahan")}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){y.a.auth().signOut().then((function(){e(!0)}))}y.a.auth().currentUser;function N(){return new Promise((function(e,a){var t=y.a.auth().onAuthStateChanged((function(a){e(a||null),t()}))}))}function A(){return new Promise((function(e,a){var t;null===(t=y.a.auth().currentUser)||void 0===t||t.getIdToken(!0).then((function(a){e(a)})).catch((function(e){a(e)}))}))}function x(e){var a=function(e){var a=e.split(","),t=new Array(0);return a.forEach((function(e){var a=e.split("-")[0],n=e.split("-")[1];t=t.concat({mulai:I(a),selesai:I(n)})})),t}(e.jadwal[e.hari]),t=parseInt(e.durasi),n=new Array(0),r=1;a.forEach((function(e){for(var a=e.mulai;a<e.selesai;a+=t){var l={mulai:C(a),durasi:t,urutan:r};n=n.concat(l),r++}}));var l="";return n.forEach((function(a){a.urutan==e.slot&&(l=a.mulai)})),l}function I(e){var a=e.split(":")[0],t=e.split(":")[1];return 60*parseInt(a)+parseInt(t)}function C(e){var a=Math.floor(e/60),t=e%60;return(a<10?"0"+a:a)+":"+(t<10?"0"+t:t)}function B(){var e=new Date,a=e.getFullYear(),t=e.getMonth()+1,n=t<10?"0"+t:t,r=e.getDate(),l=r<10?"0"+r:r;return parseInt(a.toString()+n+l)}function D(e){var a=e.toString(),t=parseInt(a.substr(0,4)),n=parseInt(a.substr(4,2)),r=parseInt(a.substr(6,2));return new Date(a.substr(0,4),n,r-2).toLocaleDateString("id-id",{weekday:"long"})+", "+r+" "+["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][n-1]+" "+t}function L(e){var a=function(e){var a=e.toString(),t=(parseInt(a.substr(0,4)),parseInt(a.substr(4,2))),n=parseInt(a.substr(6,2));return new Date(a.substr(0,4),t,n-2)}(e).getDay()-1;return a<0?a+7:a}new y.a.auth.GoogleAuthProvider,new y.a.auth.FacebookAuthProvider;var K=y.a,F=function(){return r.a.createElement(m.A,null,r.a.createElement(m.o,null,r.a.createElement(m.q,null,r.a.createElement(m.F,{className:"ion-justify-content-center ion-align-items-end height-50-percent"},r.a.createElement(m.L,{name:"dots"})),r.a.createElement(m.F,null)),r.a.createElement("div",{className:"custom-filler"})))},P=function(){var e=Object(c.d)((function(e){return e.error}));return r.a.createElement(m.A,null,r.a.createElement(m.o,{className:"ion-padding"},r.a.createElement("h3",null,"Error"),r.a.createElement("p",null,e),r.a.createElement("div",{className:"custom-filler"})))};function R(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,t=document.createElement("ion-toast");return t.message=e,t.duration=a,t.buttons=[{side:"end",icon:"star",text:"OK"}],document.body.appendChild(t),t.present()}var U=t(27),M=t(6),H=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),u=o[0],d=o[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),b=f[0],h=f[1],k=Object(n.useState)(!1),y=Object(s.a)(k,2),j=y[0],S=y[1];Object(c.c)();function w(){return(w=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O(t)){e.next=7;break}return h(!0),e.next=4,v(t,u,(function(e){if(h(!1),R(e),"B"===e.substring(0,1))return window.history.replaceState({},"","/pengantri"),window.location.replace("/pengantri")}));case 4:e.sent,e.next=8;break;case 7:R("Masukkan email yang valid");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(m.A,{id:"login-page"},r.a.createElement(m.o,{className:"ion-padding",style:{color:"inherit"}},r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(){return window.location.href=window.location.href}},r.a.createElement(m.D,null)),r.a.createElement("h1",{className:"ion-text-center"},"Login"),r.a.createElement("p",{className:"ion-text-center"}),r.a.createElement(m.z,{isOpen:b}),r.a.createElement(m.q,null,r.a.createElement(m.y,null,r.a.createElement(m.u,null,r.a.createElement(m.t,{type:"text",placeholder:"Email",onIonChange:function(e){return l(e.target.value)}})),r.a.createElement(m.u,null,r.a.createElement(m.t,{type:j?"text":"password",placeholder:"Password",onIonChange:function(e){return d(e.target.value)}}),r.a.createElement(m.s,{size:"small",icon:j?M.o:M.p,onClick:function(){return S(!j)}}))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{type:"submit",expand:"block",onClick:function(){return w.apply(this,arguments)}},"Masuk"))),r.a.createElement(m.F,{className:"ion-justify-content-center"},r.a.createElement("p",null,"Atau ",r.a.createElement(U.c,{to:"/signup"},"daftar")," dengan email"))),r.a.createElement("div",{className:"custom-filler"})))},G=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],u=c[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),f=(p[0],p[1],Object(n.useState)(!1)),b=Object(s.a)(f,2),h=b[0],k=b[1],y=Object(n.useState)(!1),j=Object(s.a)(y,2),v=j[0],S=j[1];function T(){return _.apply(this,arguments)}function _(){return(_=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O(t)){e.next=9;break}if(!(o.length<6)){e.next=4;break}return R("Password minimal 6 karakter"),e.abrupt("return",!1);case 4:return k(!0),e.next=7,w(t,o,(function(e){k(!1),console.log(e)}));case 7:e.next=10;break;case 9:R("Masukkan email yang valid");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(m.A,{id:"Signup-page"},r.a.createElement(m.o,{className:"ion-padding"},r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(){return window.location.href=window.location.href}},r.a.createElement(m.D,null)),r.a.createElement("h1",{className:"ion-text-center"},"Daftar"),r.a.createElement(m.z,{isOpen:h}),r.a.createElement(m.q,null,r.a.createElement(m.y,null,r.a.createElement(m.u,null,r.a.createElement(m.t,{type:"text",name:"email",placeholder:"Email",onIonChange:function(e){return l(e.target.value)}})),r.a.createElement(m.u,null,r.a.createElement(m.t,{type:v?"text":"password",name:"password",placeholder:"Password",onIonChange:function(e){return u(e.target.value)}}),r.a.createElement(m.s,{size:"small",icon:v?M.o:M.p,onClick:function(){return S(!v)}}))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{type:"submit",expand:"block",onClick:T},"Daftar"))),r.a.createElement(m.F,{className:"ion-justify-content-center"},r.a.createElement("p",null,"Sudah punya akun? ",r.a.createElement(U.c,{to:"/login"},"Masuk")))),r.a.createElement("div",{className:"custom-filler"})))},J=t(8),z=t(31),W=t.n(z),q="https://nori-api-2.web.app/api",Q=t(12),Y=t(49),V=Y.c.Filesystem,Z=function(e){return{type:"SET_ROLE",payload:e}},$=function(e){return{type:"SET_PEMILIK_DATA",payload:e}},X=function(e){return function(a){h.a.get(q+"/gerai/create?"+W.a.stringify(e)).then((function(t){console.log("createGera?",t.data),delete e.token,delete e.id_pemilik,a(ye(e))})).catch((function(e){console.log(e)})).then((function(){}))}},ee=function(e){return function(a){h.a.get(q+"/gerai/deletebykode?"+W.a.stringify(e)).then((function(e){a(oe(!1))}))}},ae=function(e){return{type:"ADD_LAYANAN_IS_COMPLETE",payload:e}},te=function(e){return function(a){h.a.get(q+"/layanan/create?"+Object(Q.stringify)(e)).then((function(e){a(ae(!0))})).catch((function(e){a(ae(!0))}))}},ne=function(e){return{type:"ADD_KLASTER_IS_COMPLETE",payload:e}},re=function(e){return function(a){h.a.get(q+"/klaster/create?"+Object(Q.stringify)(e)).then((function(e){console.log("addKlaster? "+e.data),a(ne(!0))}))}},le=function(e){return{type:"SET_PEMILIK_BELONGINGS",payload:e}},ie=function(e){return function(a){h.a.get(q+"/pemilik/getAllBelongings?"+Object(Q.stringify)(e)).then((function(e){console.log("belongings?",e.data),a(le(e.data))}))}},ce=function(e){return{type:"SET_ERROR",payload:e}},oe=function(e){return{type:"SET_PEMILIK_UP_TO_DATE",payload:e}},ue=function(e){return console.log("params:",e),function(a){h.a.get(q+"/gerai/edit?"+Object(Q.stringify)(e)).then((function(e){console.log(e.data),a(oe(!1))}))}},se=function(e){return function(a){h.a.get(q+"/klaster/edit?"+Object(Q.stringify)(e)).then((function(e){console.log("editklaster?: "+e.data),a(oe(!1))}))}},me=function(e){return function(a){h.a.get(q+"/klaster/hapus?"+Object(Q.stringify)(e)).then((function(e){console.log("hapusklaster?: "+e.data),a(oe(!1))}))}},de=function(e){return function(a){h.a.get(q+"/layanan/edit?"+Object(Q.stringify)(e)).then((function(e){console.log("editlayanan?: "+e.data),a(oe(!1))}))}},pe=function(e){return function(a){h.a.get(q+"/layanan/hapus?"+Object(Q.stringify)(e)).then((function(e){console.log("hapuslayanan?: "+e.data),a(oe(!1))}))}},fe=function(e){return function(a){h.a.get(q+"/layanan/deaktivasi?"+Object(Q.stringify)(e)).then((function(e){console.log("deaktivasilayanan?: "+e.data),a(oe(!1))}))}},ge=function(e){return function(a){h.a.get(q+"/layanan/aktivasi?"+Object(Q.stringify)(e)).then((function(e){console.log("aktivasilayanan?: "+e.data),a(oe(!1))}))}},Ee=function(e){return function(a){h.a.get(q+"/layanan/searchRefined?"+Object(Q.stringify)(e)).then((function(e){console.log("searchGeraiOrLayanan?: ",e.data),a(be(e.data))}))}},be=function(e){return{type:"SET_HASIL_SEARCH",payload:e}},he=function(e){return{type:"SET_IS_SEARCHING",payload:e}},ke=function(e){return function(a){h.a.get(q+"/gerai/"+e).then((function(e){console.log("gerGerai?",e.data),a(ye(e.data))}))}},ye=function(e){return{type:"ADD_GERAI",payload:e}},je=function(e){return{type:"SET_PENGGUNA_DATA",payload:e}},Oe=function(e){return function(a){h.a.get(q+"/layanan/getLayananData?"+Object(Q.stringify)(e)).then((function(t){console.log("layananData?",t.data);var n=Object(J.a)({},t.data,{identifier:e.geraiKode+"-"+e.layananKode});a(ve(n))}))}},ve=function(e){return{type:"ADD_LAYANAN_CACHE",payload:e}},Se=function(e){return{type:"SET_IS_FETCHING",payload:e}},we=function(e){return function(a){h.a.get(q+"/pesanan/pesan?"+Object(Q.stringify)(e)).then((function(e){console.log("pesan?",e.data),a(Te(!1))}))}},Te=function(e){return{type:"SEDANG_PESAN",payload:e}},_e=function(e){return function(a){h.a.get(q+"/pengantri/getData?"+Object(Q.stringify)(e)).then((function(e){a(Ne(e.data))}))}},Ne=function(e){return{type:"SET_PENGANTRI_DATA",payload:e}},Ae=function(e){return{type:"SET_IS_FETCHING_USER",payload:e}},xe=function(e){return{type:"ADD_KLASTER_RELATED",payload:e}},Ie=function(e){return function(a){h.a.get(q+"/pesanan/batal?"+Object(Q.stringify)(e)).then((function(e){console.log("batal?",e.data),a(Ce(!1))}))}},Ce=function(e){return{type:"SET_IS_DELETING",payload:e}},Be=function(e){return function(a){h.a.get(q+"/staf/getOrCreate?"+Object(Q.stringify)(e)).then((function(e){console.log("getstaf?",e.data),a(Le(e.data))}))}},De=function(e){return{type:"SET_IS_FETCHING_STAF",payload:e}},Le=function(e){return{type:"SET_STAF_DATA",payload:e}},Ke=function(e){return function(a){h.a.get(q+"/staf/getByGerai?"+Object(Q.stringify)(e)).then((function(t){console.log("getstafs?",t.data);var n={identifier:e.id_gerai,stafs:t.data};a(Fe(n))}))}},Fe=function(e){return{type:"ADD_STAFS_CACHE",payload:e}},Pe=function(e){return function(a){h.a.get(q+"/staf/rekrut?"+Object(Q.stringify)(e)).then((function(e){console.log("rekrut?",e.data),a(Re(e.data))}))}},Re=function(e){return{type:"REKRUT_SELESAI",payload:e}},Ue=function(e){return{type:"SET_IS_FETCHING",payload:e}},Me=function(e){return function(a){h.a.get(q+"/staf/hapus?"+Object(Q.stringify)(e)).then((function(e){console.log("hapusStaf?",e.data),a(Re(e.data))}))}},He=function(e){return function(a){h.a.get(q+"/staf/getWorkplaceData?"+Object(Q.stringify)(e)).then((function(e){console.log("geraiForStaf?",e.data),a(Ge(e.data))}))}},Ge=function(e){return{type:"SET_GERAI_FOR_STAF",payload:e}},Je=function(e){return function(a){h.a.get(q+"/pesanan/bukaKlaster?"+Object(Q.stringify)(e)).then((function(e){console.log("bukaKlaster?",e.data),a(Se(!1))}))}},ze=function(e){return function(a){h.a.get(q+"/pesanan/selesai?"+Object(Q.stringify)(e)).then((function(e){console.log("selesai?",e.data),a(Se(!1))}))}},We=function(e){return function(a){h.a.get(q+"/pesanan/tunda?"+Object(Q.stringify)(e)).then((function(e){console.log("tunda?",e.data),a(Se(!1))}))}},qe=function(e){return{type:"SET_BANNED",payload:e}},Qe=function(e){return function(a){h.a.get(q+"/staf/undurDiri?"+Object(Q.stringify)(e)).then((function(t){console.log("undurDiri?",t.data),a(Ye(e))}))}},Ye=function(e){return{type:"BERHASIL_UNDUR_DIRI",payload:e}},Ve=function(e){return{type:"SET_FCM_TOKEN",payload:e}},Ze=function(e){return{type:"SET_FCM_TOKEN_ON_CLOUD",payload:e}},$e=function(){Object(c.c)();var e=Object(n.useState)(!0),a=Object(s.a)(e,2),t=a[0],l=a[1];return K.auth().signOut().then((function(){l(!1)})),document.location.href="",r.a.createElement(m.o,null,r.a.createElement("p",null,"Logging out..."),r.a.createElement(m.z,{isOpen:t}),r.a.createElement("div",{className:"custom-filler"}))},Xe=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],l=a[1];function i(){return(i=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,A();case 3:e.t0=e.sent,a={token:e.t0},h.a.get(q+"/pemilik/register?"+W.a.stringify(a)).then((function(e){l(!1),console.log(e.data.id),R("Berhasil. Mengalihkan..."),window.location.href="/pemilik"})).catch((function(e){l(!1),console.log(e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(m.A,null,r.a.createElement(m.o,{className:"ion-padding"},r.a.createElement(m.z,{isOpen:t}),r.a.createElement("div",null,r.a.createElement("h1",null,"Buat akun Pemilik"),r.a.createElement("p",null,"Anda belum mempunyai akun pemilik. Apakah anda ingin membuatnya?"),r.a.createElement(m.g,{onClick:function(){return function(){return i.apply(this,arguments)}()}},"Buat"),r.a.createElement(m.g,{fill:"outline",onClick:function(){return e="pengantri",void(window.location.href="/"+e);var e}},"Kembali")),r.a.createElement("div",{className:"custom-filler"})))},ea=t(9),aa=t.n(ea),ta=function(){return r.a.createElement("div",{className:"ion-padding"},r.a.createElement("h1",null,"Buat gerai"),r.a.createElement("p",null,"Anda belum mempunyai gerai. Apakah anda ingin membuatnya?"),r.a.createElement(m.g,{routerLink:"/pemilik/gerai/daftar"},"Buat"))},na=Object(c.b)()((function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=(o[0],o[1],Object(n.useState)(!0)),d=Object(s.a)(u,2),p=(d[0],d[1],Object(c.c)()),f=Object(c.d)((function(e){return e.pemilik.id})),b=Object(c.d)((function(e){return e})),h="",k=b.pemilik.gerais,y=!!(Array.isArray(k)&&k.length>0),j=b.chosenGeraiKode,O={id:"",nama:"",kode:"",deskripsi:"",alamat:"",tautan:""};if(y){var v=!0,S=!1,w=void 0;try{for(var T,_=k[Symbol.iterator]();!(v=(T=_.next()).done);v=!0){var N=T.value;N.kode===j&&(O=N,h=N.id)}}catch(G){S=!0,w=G}finally{try{v||null==_.return||_.return()}finally{if(S)throw w}}}var x=b.pemilikBelongingsUpToDate,I=b.fetchingPemilikBelongings,C=Object(n.useState)(!1),B=Object(s.a)(C,2),D=B[0],L=B[1],K=b.chosenGeraiKode;function F(){return P.apply(this,arguments)}function P(){return(P=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:e.t0=e.sent,e.t1=f,a={token:e.t0,id_pemilik:e.t1},p(ie(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){p({type:"SET_CHOSEN_GERAI",payload:e.value})}Object(n.useEffect)((function(){x||I||(L(!0),F(),p({type:"SET_FETCHING_PEMILIK_BELONGINGS",payload:!0})),I&&L(!1),O.kode!==K&&k.forEach((function(e){e.kode==K&&(O=e)})),Array.isArray(b.pemilik.klasters)||t||(l(!0),p(oe(!1)))}));function H(){return(H=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(Ue(!0)),F();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,{slot:"start"}),r.a.createElement(m.Q,null,"Gerai"),r.a.createElement(m.h,{slot:"end"},"undefined"===typeof k?"":k.length>1?r.a.createElement(m.J,{interface:"popover",value:j,onIonChange:function(e){return U(e.target)}},k.map((function(e){if(e.kode===j)return r.a.createElement(m.K,{key:e.id,value:e.kode,onClick:function(){return U(e.kode)}},"@",e.kode.length<11?e.kode:e.kode.substring(0,11)+"...")})),k.map((function(e){if(e.kode!==j)return r.a.createElement(m.K,{key:e.id,value:e.kode,onClick:function(){return U(e.kode)}},"@",e.kode.length<11?e.kode:e.kode.substring(0,11)+"...")}))):""))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){!function(){H.apply(this,arguments)}(),setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),r.a.createElement(m.z,{isOpen:D}),y?r.a.createElement((function(){var e=Object(n.useState)("layanan"),a=Object(s.a)(e,2),t=a[0],l=a[1],i=b.pemilik.klasters,c=new Array(0),o=new Array(0);if(Array.isArray(i)&&0!==i.length){var u=!0,d=!1,f=void 0;try{for(var k,y=i[Symbol.iterator]();!(u=(k=y.next()).done);u=!0){var v=k.value;v.id_gerai==h&&(c=c.concat(v),o=o.concat(v.id))}}catch(G){d=!0,f=G}finally{try{u||null==y.return||y.return()}finally{if(d)throw f}}}var S=Object(n.useState)(!!(Array.isArray(c)&&c.length>0)),w=Object(s.a)(S,2),T=w[0],_=w[1];Object(n.useState)((function(){if(Array.isArray(i)&&0!==i.length){var e=!0,a=!1,t=void 0;try{for(var n,r=i[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var l=n.value;l.id_gerai==h&&(c=c.concat(l),o=o.concat(l.id))}}catch(G){a=!0,t=G}finally{try{e||null==r.return||r.return()}finally{if(a)throw t}}}_(!!(Array.isArray(c)&&c.length>0))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ion-padding-vertical"},r.a.createElement(m.u,{lines:"none",mode:"md"},r.a.createElement(m.s,{icon:M.d,size:"large"}),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,O.nama),r.a.createElement("p",null,"@",O.kode)),r.a.createElement(m.s,{slot:"end",icon:M.m,onClick:function(){return aa()("#btn-edit").click()}})),r.a.createElement("div",{className:"ion-padding-top ion-padding-horizontal"},r.a.createElement(m.w,null,r.a.createElement("h3",null,O.deskripsi),r.a.createElement("h3",null,r.a.createElement("a",{target:"_blank",className:"cust-no-dec",href:""===O.tautan||"undefined"===typeof O.tautan?"https://www.google.co.id/maps/search/"+O.alamat.replace(" ","+"):O.tautan},O.alamat))))),r.a.createElement(m.H,{value:t,mode:"md",scrollable:!0},r.a.createElement(m.I,{value:"layanan",onClick:function(){return l("layanan")}},r.a.createElement(m.w,null,"Layanan")),r.a.createElement(m.I,{value:"klaster",onClick:function(){return l("klaster")}},r.a.createElement(m.w,null,"Klaster")),r.a.createElement(m.I,{value:"staf",onClick:function(){return l("staf")}},r.a.createElement(m.w,null,"Staf"))),r.a.createElement("div",{className:"layanan"===t?"":"custom-hidden"},r.a.createElement((function(){var e=b.pemilik.layanans,a=new Array(0);if(Array.isArray(e)&&0!==e.length){var t=!0,l=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(t=(c=u.next()).done);t=!0){var s=c.value;o.includes(s.id_klaster)&&(a=a.concat(s))}}catch(G){l=!0,i=G}finally{try{t||null==u.return||u.return()}finally{if(l)throw i}}}var d=a.length>0,p=a.length;Object(n.useEffect)((function(){}));var f=function(e){var a=e.title,t=e.laykode,n=e.aktif;return r.a.createElement(m.n,null,r.a.createElement(m.i,{style:n?{}:{backgroundColor:"#dddddd"},mode:"md",className:"ion-no-margin",button:!0,routerLink:"/pemilik/gerai/"+j+"/layanan/"+t},r.a.createElement(m.j,{className:"ion-justify-content-center ion-text-center"},r.a.createElement(m.s,{icon:M.t,size:"large",color:"primary"}),r.a.createElement("br",null),r.a.createElement(m.w,null,a))))},g=function(){return r.a.createElement(m.n,{key:"tambahanBRUH"},r.a.createElement(m.i,{mode:"md",className:"ion-no-margin",button:!0,routerLink:"/pemilik/gerai/"+j+"/tambahLayanan"},r.a.createElement(m.j,{className:"ion-justify-content-center ion-text-center"},r.a.createElement(m.s,{icon:M.a,size:"large",color:"medium"}),r.a.createElement("br",null),r.a.createElement(m.w,null,"Tambah"))))},E=function(e){var a=e.width;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.n,{key:"invis1"},r.a.createElement(m.i,{mode:"md",className:"ion-no-margin opacity-0"},r.a.createElement(m.j,{className:"ion-justify-content-center ion-text-center"},r.a.createElement(m.s,{icon:M.a,size:"large",color:"dark"}),r.a.createElement("br",null),r.a.createElement(m.w,null,"Tambah")))),"1"===a?"":r.a.createElement(m.n,{key:"invis2"},r.a.createElement(m.i,{mode:"md",className:"ion-no-margin opacity-0"},r.a.createElement(m.j,{className:"ion-justify-content-center ion-text-center"},r.a.createElement(m.s,{icon:M.a,size:"large",color:"dark"}),r.a.createElement("br",null),r.a.createElement(m.w,null,"Tambah")))))},h=new Array(0),k=0;d&&a.forEach((function(e){h[k]={title:e.nama,kode:e.kode}}));var y=Math.ceil(p/3),O=new Array(new Array(0)),v=0,S=0;for(k=0;k<y;k++)v<p?O[k][0]=a[v]:(O[k][0]={title:"--tambahan",tumbuhanID:S},S++),++v<p?O[k][1]=a[v]:(O[k][1]={title:"--tambahan",tumbuhanID:S},S++),++v<p?O[k][2]=a[v]:(O[k][2]={title:"--tambahan",tumbuhanID:S},S++),v++,k++;return r.a.createElement(r.a.Fragment,null,d?r.a.createElement(r.a.Fragment,null,O.map((function(e,a){return r.a.createElement(m.F,{key:"baris"+a},e.map((function(e){return"--tambahan"===e.title?0===e.tumbuhanID?r.a.createElement(g,{key:"tambahan"}):r.a.createElement(E,{width:"1",key:"tambahan"+e.tumbuhanID}):r.a.createElement(f,{title:e.nama,key:e.id,laykode:e.kode,aktif:e.aktif})})))}))):r.a.createElement(m.F,null,r.a.createElement(g,null),r.a.createElement(E,{width:"2"})))}),null)),r.a.createElement("div",{className:"klaster"===t?"":"custom-hidden"},r.a.createElement((function(){var e=b.addKlasterIsComplete;return Object(n.useEffect)((function(){e&&p(ne(!1))})),r.a.createElement(r.a.Fragment,null,T?r.a.createElement(r.a.Fragment,null,c.map((function(e){return r.a.createElement(m.u,{key:e.id,mode:"md",routerLink:"/pemilik/gerai/"+j+"/klaster/"+e.id},r.a.createElement(m.s,{icon:M.c,size:"large"}),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,e.nama)))}))):r.a.createElement(m.u,null,r.a.createElement(m.w,null,r.a.createElement("h3",null,"Belum ada klaster"))),r.a.createElement(m.u,{button:!0,onClick:function(){return aa()("#btn-add-klaster").click()},mode:"md"},r.a.createElement(m.s,{icon:M.a,size:"large"}),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,"Buat klaster"))),r.a.createElement(m.g,{className:"custom-hidden",routerLink:"/pemilik/gerai/"+j+"/tambahKlaster",id:"btn-add-klaster"}))}),null)),r.a.createElement("div",{className:"staf"===t?"":"custom-hidden"},r.a.createElement((function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=(a[0],a[1],b.isFetching),l=b.geraiStafs[O.id]?b.geraiStafs[O.id]:new Array(0),i=Object(n.useState)(!1),c=Object(s.a)(i,2),o=c[0],u=c[1],d=(b.rekrutStatus,Object(n.useState)(!1)),f=Object(s.a)(d,2),h=(f[0],f[1]),k=Object(n.useState)(!1),y=Object(s.a)(k,2),j=y[0],v=y[1],S=Object(n.useState)(""),w=Object(s.a)(S,2),T=w[0],_=w[1];function N(){return(N=Object(E.a)(g.a.mark((function e(){var a,t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=aa()("#email-input").val(),e.next=3,A();case 3:e.t0=e.sent,e.t1=a,e.t2=O.id,t={token:e.t0,email:e.t1,id_gerai:e.t2},p(Ue(!0)),h(!0),p(Pe(t));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:e.t0=e.sent,e.t1=T,e.t2=O.id,a={token:e.t0,email:e.t1,id_gerai:e.t2},p(Ue(!0)),p(Me(a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){"undefined"!==typeof b.geraiStafs[O.id]||t||(p(Ue(!0)),p(Ke({id_gerai:O.id}))),""!==b.rekrutStatus&&(h(!1),R(b.rekrutStatus),p({type:"SET_REKRUT_STATUS",payload:""}),"sukses"===b.rekrutStatus&&(p(Ue(!0)),p(Ke({id_gerai:O.id}))))})),t?r.a.createElement(m.L,null):r.a.createElement(r.a.Fragment,null,l.length<1?r.a.createElement("div",{className:"ion-padding"},"Tidak ada staf"):l.map((function(e){return r.a.createElement(m.u,{id:e.id,key:e.id},r.a.createElement(m.s,{icon:M.y}),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,e.email)),r.a.createElement(m.s,{icon:M.k,color:"danger",onClick:function(){_(e.email),v(!0)}}))})),r.a.createElement(m.u,{button:!0,onClick:function(){return u(!0)}},r.a.createElement(m.s,{icon:M.a}),"\xa0",r.a.createElement(m.w,null,"Tambah staf")),r.a.createElement(m.b,{isOpen:o,onDidDismiss:function(){return u(!1)},header:"Tambah staf",message:"Masukkan email calon staf",buttons:[{text:"Batal",role:"cancel",cssClass:"secondary"},{text:"Tambah",handler:function(){!function(){N.apply(this,arguments)}()}}],inputs:[{id:"email-input",type:"text",placeholder:"staf@nori.id"}]}),r.a.createElement(m.b,{isOpen:j,onDidDismiss:function(){return u(!1)},header:"Hapus staf",message:"Anda yakin akan menghapus staf <b>"+T+"<b>?",buttons:[{text:"Batal",role:"cancel",cssClass:"secondary"},{text:"Hapus",handler:function(){!function(){x.apply(this,arguments)}()}}]}))}),null)),r.a.createElement(m.g,{className:"custom-hidden",routerLink:"/pemilik/gerai/"+j+"/edit",id:"btn-edit"}))}),null):r.a.createElement(ta,null),r.a.createElement("div",{className:"custom-filler"})))})),ra=Object(c.b)()((function(){var e,a,t=Object(c.d)((function(e){return e})),l=Object(n.useState)(!1),i=Object(s.a)(l,2),o=i[0],u=(i[1],Object(c.d)((function(e){return e.role}))),d=Object(n.useState)("berlangsung"),p=Object(s.a)(d,2),f=(p[0],p[1],t.pengguna),g=Object(c.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,null,r.a.createElement(m.J,{interface:"popover",value:u,onIonChange:function(e){return a=e.target.value,void(window.location.href="/"+a);var a}},r.a.createElement(m.K,{value:"pengantri"},"Pengantri"),r.a.createElement(m.K,{value:"pemilik"},"Pemilik"),r.a.createElement(m.K,{value:"staf"},"Staf"))))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){g(je(K.auth().currentUser)),setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),r.a.createElement("div",{className:"ion-padding-vertical ion-padding-end"},r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.d,null,f.photoURL?r.a.createElement("img",{src:f.photoURL}):r.a.createElement("img",{src:"/assets/img/person-circle-outline.svg"})),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,f.displayName?f.displayName:"user tanpa nama"),r.a.createElement("p",null)),(null===(e=K.auth().currentUser)||void 0===e?void 0:e.emailVerified)?r.a.createElement(m.s,{icon:M.v}):"",r.a.createElement(m.s,{className:(null===(a=K.auth().currentUser)||void 0===a?void 0:a.emailVerified)?"ion-hide":"",onClick:function(){return aa()("#btn-edit-akun").click()},icon:M.m}))),r.a.createElement(m.v,{className:"custom-divider"}),r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("h3",null,"Email")),r.a.createElement(m.w,{slot:"end",className:"ion-text-right"},r.a.createElement("p",null,f.email))),r.a.createElement(m.z,{isOpen:o}),r.a.createElement(m.v,{mode:"ios"},"Gerai"),r.a.createElement(m.u,{routerLink:"/pemilik/akun/gerai/daftar",mode:"md"},r.a.createElement(m.s,{icon:M.a}),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,"Buat gerai baru"))),r.a.createElement(m.v,{mode:"ios"},"Logout"),r.a.createElement(m.u,{onClick:function(){_((function(e){!0===e&&(window.location.href="/")}))}},r.a.createElement(m.s,{icon:M.u}),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,"Logout"))),r.a.createElement(m.g,{className:"ion-hide",routerLink:"/pemilik/akun/edit",id:"btn-edit-akun"}),r.a.createElement("div",{className:"custom-filler"})))})),la=["Aceh Barat","Aceh Barat Daya","Aceh Besar","Aceh Jaya","Aceh Selatan","Aceh Singkil","Aceh Tamiang","Aceh Tengah","Aceh Tenggara","Aceh Timur","Aceh Utara","Agam","Alor","Ambon","Asahan","Asmat","Batam","Badung","Balangan","Balikpapan","Banda Aceh","Bandar Lampung","Bandung","Bandung Barat","Banggai","Banggai Kepulauan","Bangka","Bangka Barat","Bangka Selatan","Bangka Tengah","Bangkalan","Bangli","Banjar","Banjar Baru","Banjarmasin","Banjarnegara","Bantaeng","Bantul","Banyu Asin","Banyumas","Banyuwangi","Barito Kuala","Barito Selatan","Barito Timur","Barito Utara","Barru","Baru","Batang","Batang Hari","Batu","Batu Bara","Baubau","Bekasi","Belitung","Belitung Timur","Belu","Bener Meriah","Bengkalis","Bengkayang","Bengkulu","Bengkulu Selatan","Bengkulu Tengah","Bengkulu Utara","Berau","Biak Numfor","Bima","Binjai","Bintan","Bireuen","Bitung","Blitar","Blora","Boalemo","Bogor","Bojonegoro","Bolaang Mongondow","Bolaang Mongondow Selatan","Bolaang Mongondow Timur","Bolaang Mongondow Utara","Bombana","Bondowoso","Bone","Bone Bolango","Bontang","Boven Digoel","Boyolali","Brebes","Bukittinggi","Buleleng","Bulukumba","Bulungan","Bungo","Buol","Buru","Buru Selatan","Buton","Buton Utara","Ciamis","Cianjur","Cilacap","Cilegon","Cimahi","Cirebon","Dumai","Dairi","Deiyai","Deli Serdang","Demak","Denpasar","Depok","Dharmasraya","Dogiyai","Dompu","Donggala","Empat Lawang","Ende","Enrekang","Fakfak","Flores Timur","Garut","Gayo Lues","Gianyar","Gorontalo","Gorontalo Utara","Gowa","Gresik","Grobogan","Gunung Kidul","Gunung Mas","Gunungsitoli","Halmahera Barat","Halmahera Selatan","Halmahera Tengah","Halmahera Timur","Halmahera Utara","Hulu Sungai Selatan","Hulu Sungai Tengah","Hulu Sungai Utara","Humbang Hasundutan","Indragiri Hilir","Indragiri Hulu","Indramayu","Intan Jaya","Jakarta Barat","Jakarta Pusat","Jakarta Selatan","Jakarta Timur","Jakarta Utara","Jambi","Jayapura","Jayawijaya","Jember","Jembrana","Jeneponto","Jepara","Jombang","Kaimana","Kampar","Kapuas","Kapuas Hulu","Karang Asem","Karanganyar","Karawang","Karimun","Karo","Katingan","Kaur","Kayong Utara","Kebumen","Kediri","Keerom","Kendal","Kendari","Kepahiang","Kepulauan Anambas","Kepulauan Aru","Kepulauan Mentawai","Kepulauan Meranti","Kepulauan Sangihe","Kepulauan Selayar","Kepulauan Seribu","Kepulauan Sula","Kepulauan Talaud","Kepulauan Yapen","Kerinci","Ketapang","Klaten","Klungkung","Kolaka","Kolaka Utara","Konawe","Konawe Selatan","Konawe Utara","Kotamobagu","Kotawaringin Barat","Kotawaringin Timur","Kuantan Singingi","Kubu Raya","Kudus","Kulon Progo","Kuningan","Kupang","Kutai Barat","Kutai Kartanegara","Kutai Timur","Labuhan Batu","Labuhan Batu Selatan","Labuhan Batu Utara","Lahat","Lamandau","Lamongan","Lampung Barat","Lampung Selatan","Lampung Tengah","Lampung Timur","Lampung Utara","Landak","Langkat","Langsa","Lanny Jaya","Lebak","Lebong","Lembata","Lhokseumawe","Lima Puluh Kota","Lingga","Lombok Barat","Lombok Tengah","Lombok Timur","Lombok Utara","Lubuklinggau","Lumajang","Luwu","Luwu Timur","Luwu Utara","Madiun","Magelang","Magetan","Majalengka","Majene","Makassar","Malang","Malinau","Maluku Barat Daya","Maluku Tengah","Maluku Tenggara","Maluku Tenggara Barat","Mamasa","Mamberamo Raya","Mamberamo Tengah","Mamuju","Mamuju Utara","Manado","Mandailing Natal","Manggarai","Manggarai Barat","Manggarai Timur","Manokwari","Mappi","Maros","Mataram","Maybrat","Medan","Melawi","Merangin","Merauke","Mesuji","Metro","Mimika","Minahasa","Minahasa Selatan","Minahasa Tenggara","Minahasa Utara","Mojokerto","Morowali","Muara Enim","Muaro Jambi","Mukomuko","Muna","Murung Raya","Musi Banyuasin","Musi Rawas","Nabire","Nagan Raya","Nagekeo","Natuna","Nduga","Ngada","Nganjuk","Ngawi","Nias","Nias Barat","Nias Selatan","Nias Utara","Nunukan","Ogan Ilir","Ogan Komering Ilir","Ogan Komering Ulu","Ogan Komering Ulu Selatan","Ogan Komering Ulu Timur","Pacitan","Padang","Padang Lawas","Padang Lawas Utara","Padang Panjang","Padang Pariaman","Padangsidimpuan","Pagar Alam","Pakpak Bharat","Palangka Raya","Palembang","Palopo","Palu","Pamekasan","Pandeglang","Pangandaran","Pangkajene Dan Kepulauan","Pangkal Pinang","Paniai","Parepare","Pariaman","Parigi Moutong","Pasaman","Pasaman Barat","Paser","Pasuruan","Pati","Payakumbuh","Pegunungan Bintang","Pekalongan","Pekanbaru","Pelalawan","Pemalang","Pematang Siantar","Penajam Paser Utara","Pesawaran","Pesisir Barat","Pesisir Selatan","Pidie","Pidie Jaya","Pinrang","Pohuwato","Polewali Mandar","Ponorogo","Pontianak","Poso","Prabumulih","Pringsewu","Probolinggo","Pulang Pisau","Pulau Morotai","Puncak","Puncak Jaya","Purbalingga","Purwakarta","Purworejo","Raja Ampat","Rejang Lebong","Rembang","Rokan Hilir","Rokan Hulu","Rote Ndao","Siak","Sabang","Sabu Raijua","Salatiga","Samarinda","Sambas","Samosir","Sampang","Sanggau","Sarmi","Sarolangun","Sawah Lunto","Sekadau","Seluma","Semarang","Seram Bagian Barat","Seram Bagian Timur","Serang","Serdang Bedagai","Seruyan","Siau Tagulandang Biaro","Sibolga","Sidenreng Rappang","Sidoarjo","Sigi","Sijunjung","Sikka","Simalungun","Simeulue","Singkawang","Sinjai","Sintang","Situbondo","Sleman","Solok","Solok Selatan","Soppeng","Sorong","Sorong Selatan","Sragen","Subang","Subulussalam","Sukabumi","Sukamara","Sukoharjo","Sumba Barat","Sumba Barat Daya","Sumba Tengah","Sumba Timur","Sumbawa","Sumbawa Barat","Sumedang","Sumenep","Sungai Penuh","Supiori","Surabaya","Surakarta","Tabalong","Tabanan","Takalar","Tambrauw","Tana Tidung","Tana Toraja","Tanah Bumbu","Tanah Datar","Tanah Laut","Tangerang","Tangerang Selatan","Tanggamus","Tanjung Balai","Tanjung Jabung Barat","Tanjung Jabung Timur","Tanjung Pinang","Tapanuli Selatan","Tapanuli Tengah","Tapanuli Utara","Tapin","Tarakan","Tasikmalaya","Tebing Tinggi","Tebo","Tegal","Teluk Bintuni","Teluk Wondama","Temanggung","Ternate","Tidore Kepulauan","Timor Tengah Selatan","Timor Tengah Utara","Toba Samosir","Tojo Una-una","Toli-toli","Tolikara","Tomohon","Toraja Utara","Trenggalek","Tual","Tuban","Tulang Bawang Barat","Tulangbawang","Tulungagung","Wajo","Wakatobi","Waropen","Way Kanan","Wonogiri","Wonosobo","Yahukimo","Yalimo","Yogyakarta"],ia=Object(c.b)()((function(){Object(c.d)((function(e){return e}));var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),u=o[0],d=o[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),b=f[0],h=f[1],k=Object(n.useState)(""),y=Object(s.a)(k,2),j=y[0],O=y[1],v=Object(n.useState)("Surakarta"),S=Object(s.a)(v,2),w=S[0],T=S[1],_=Object(n.useState)(""),N=Object(s.a)(_,2),x=N[0],I=N[1],C=Object(n.useState)(""),B=Object(s.a)(C,2),D=B[0],L=B[1],K=Object(c.d)((function(e){return e.pemilik})),F=Object(n.useState)(!1),P=Object(s.a)(F,2),U=(P[0],P[1],Object(c.c)()),M=(Object(c.d)((function(e){return e.geraiNeedsUpdate})),Object(c.d)((function(e){return e})).isFetching);function H(){return(H=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if(e.t0=e.sent,e.t1=K.id,e.t2=u,e.t3=x,e.t4=b,e.t5=j,e.t6=w,e.t7=D,a={token:e.t0,id_pemilik:e.t1,nama:e.t2,kode:e.t3,deskripsi:e.t4,alamat:e.t5,wilayah:e.t6,tautan:e.t7},console.log("params",a),""!==u&&""!==x&&""!==b&&""!==j&&""!==w){e.next=15;break}return R("Mohon isi formulir secara lengkap"),e.abrupt("return",!1);case 15:U(Se(!0)),l(!0),U(X(a));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!M&&t&&(U({type:"GERAI_NEEDS_UPDATE",payload:!1}),l(!1),R("Berhasil"),window.location.href="/pemilik/gerai")})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,{slot:"start"},r.a.createElement(m.e,{defaultHref:"/pemilik/akun"}),r.a.createElement(m.Q,null,"Daftar Gerai")))),r.a.createElement(m.o,null,r.a.createElement(m.g,{id:"btnToGerai",style:{display:"none"},routerLink:"/pemilik/gerai"}),r.a.createElement(m.z,{isOpen:t}),r.a.createElement(m.q,null,r.a.createElement(m.y,null,r.a.createElement(m.u,null,r.a.createElement("b",null,"Nama:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"Rumah Sakit Meikarta",onIonChange:function(e){return d(e.target.value)},required:!0})),r.a.createElement(m.u,null,r.a.createElement("b",null,"Kode:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"rsmeikarta",onIonChange:function(e){return I(e.target.value)},required:!0})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Deskripsi:"),"\xa0"),r.a.createElement(m.u,null,r.a.createElement(m.P,{onIonChange:function(e){return h(e.target.value)},placeholder:"Tersedia Poliklinik dan layanan lainnya"})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Alamat:"),"\xa0"),r.a.createElement(m.u,null,r.a.createElement(m.P,{onIonChange:function(e){return O(e.target.value)},placeholder:"Jl. Kenangan No. 420, Meikarta"})),r.a.createElement(m.u,null,r.a.createElement("b",null,"Wilayah:"),"\xa0",r.a.createElement(m.J,{slot:"end",value:w||"Surakarta",interface:"alert",onIonChange:function(e){return T(e.detail.value)}},la.map((function(e){return r.a.createElement(m.K,{key:e,value:e},e)})))),r.a.createElement(m.u,null,r.a.createElement("b",null,"Tautan lokasi (opsional):"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"https://goo.gl/maps/yTzNq95m7WKJQgCp7",onIonChange:function(e){return L(e.target.value)}}))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{type:"submit",expand:"block",onClick:function(){return function(){return H.apply(this,arguments)}()}},"Daftarkan")))),r.a.createElement("div",{className:"custom-filler"})))})),ca={display:"block"},oa={display:"none"},ua={minHeight:"1px"},sa=function(e){var a=e.hariID,t=e.jadwalDay,l=Object(n.useState)("2020-01-01T07:30"),i=Object(s.a)(l,2),o=i[0],u=i[1],d=Object(n.useState)("2020-01-01T15:00"),p=Object(s.a)(d,2),f=p[0],g=p[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),h=b[0],k=b[1],y=Object(n.useState)(!1),j=Object(s.a)(y,2),O=j[0],v=j[1],S=Object(n.useState)(0),w=Object(s.a)(S,2),T=(w[0],w[1],Object(n.useState)(!1)),_=Object(s.a)(T,2),N=_[0],A=_[1],x=Object(n.useState)("2020-01-01T12:00"),I=Object(s.a)(x,2),C=I[0],B=I[1],D=Object(n.useState)("2020-01-01T13:00"),L=Object(s.a)(D,2),K=L[0],F=L[1],P=(Object(c.c)(),Object(n.useState)(!1)),R=Object(s.a)(P,2),U=R[0],H=R[1];return Object(n.useEffect)((function(){if(!U){if("e"!==t)if("s"==t)k(!0);else if(""==t)v(!0);else if(t.includes(",")){var e=t.split(",")[0];u("2020-01-01T"+e.split("-")[0]),B("2020-01-01T"+e.split("-")[1]);var n=t.split(",")[1];F("2020-01-01T"+n.split("-")[0]),g("2020-01-01T"+n.split("-")[1]),A(!0)}else u("2020-01-01T"+t.split("-")[0]),g("2020-01-01T"+t.split("-")[1]);H(!0)}var r;if(O)r="";else if(h)r="s";else{r=o.split("T")[1].substring(0,5),N&&(r+="-"+C.split("T")[1].substring(0,5),r+=","+K.split("T")[1].substring(0,5)),r+="-"+f.split("T")[1].substring(0,5)}aa()("#jadwal-hari-"+a).val(r)})),r.a.createElement(m.j,{className:"item-hari",id:"item"+a,style:"0"===a?ca:oa},r.a.createElement("input",{type:"hidden",id:"jadwal-hari-"+a}),"0"===a?"":r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("p",null,"Sama seperti Senin")),r.a.createElement(m.R,{onClick:function(){return console.log("sameAsSenin? "+h),void k(!h)},checked:h})),h?"":r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("p",null,"Libur")),r.a.createElement(m.R,{onClick:function(){v(!O)},checked:O})),r.a.createElement(m.v,{style:ua}),h||O?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,"Buka"),r.a.createElement(m.p,{value:o,displayFormat:"HH:mm",onIonChange:function(e){return u(e.target.value)}})),N?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,"Mulai Istirahat"),r.a.createElement(m.p,{value:C,displayFormat:"HH:mm",onIonChange:function(e){return B(e.target.value)}})),r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,"Selesai Istirahat"),r.a.createElement(m.p,{value:K,displayFormat:"HH:mm",onIonChange:function(e){return F(e.target.value)}}))):r.a.createElement(m.u,{lines:"none",mode:"md",button:!0,onClick:function(){A(!0)}},r.a.createElement(m.s,{icon:M.a}),r.a.createElement(m.w,null,r.a.createElement("p",null,"Tambah waktu istirahat..."))),r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,"Tutup"),r.a.createElement(m.p,{value:f,displayFormat:"HH:mm",onIonChange:function(e){return g(e.target.value)}})),N?r.a.createElement(m.u,{lines:"none",mode:"md",button:!0,onClick:function(){return A(!1)}},r.a.createElement(m.s,{icon:M.G,color:"danger"}),"\xa0",r.a.createElement(m.w,null,r.a.createElement("p",{color:"danger"},"Hapus istirahat..."))):""))},ma=function(e){var a=e.jadwal,t=new Array(0);if("empty"===a)t=["e","e","e","e","e","e","e"];else{t=JSON.parse(a);for(var l=1;l<7;l++)t[0]===t[l]&&(t[l]="s")}var i=Object(n.useState)(!0),c=Object(s.a)(i,2),o=c[0],u=(c[1],Object(n.useState)(!1)),d=Object(s.a)(u,2),p=d[0],f=(d[1],Object(n.useState)(!1)),g=Object(s.a)(f,2),E=g[0],b=(g[1],Object(n.useState)(!1)),h=Object(s.a)(b,2),k=h[0],y=(h[1],Object(n.useState)(!1)),j=Object(s.a)(y,2),O=j[0],v=(j[1],Object(n.useState)(!1)),S=Object(s.a)(v,2),w=S[0],T=(S[1],Object(n.useState)(!1)),_=Object(s.a)(T,2),N=_[0],A=(_[1],Object(n.useState)([o,p,E,k,O,w,N])),x=Object(s.a)(A,2),I=(x[0],x[1],Object(n.useState)(0)),C=Object(s.a)(I,2),B=C[0],D=C[1],L=Object(n.useState)(!1),K=Object(s.a)(L,2),F=K[0],P=K[1],R=Object(n.useState)(""),U=Object(s.a)(R,2);U[0],U[1];function M(e){aa()(".item-hari").hide(),aa()("#item"+e).show(),D(e)}return F&&(M(0),P(!0)),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.i,null,r.a.createElement(m.k,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.m,{onClick:function(){return M(0)},color:0===B?"":"light"},"S"),r.a.createElement(m.m,{onClick:function(){return M(1)},color:1===B?"":"light"},"S"),r.a.createElement(m.m,{onClick:function(){return M(2)},color:2===B?"":"light"},"R"),r.a.createElement(m.m,{onClick:function(){return M(3)},color:3===B?"":"light"},"K"),r.a.createElement(m.m,{onClick:function(){return M(4)},color:4===B?"":"light"},"J"),r.a.createElement(m.m,{onClick:function(){return M(5)},color:5===B?"":"light"},"S"),r.a.createElement(m.m,{onClick:function(){return M(6)},color:6===B?"":"light"},"M"))),r.a.createElement(m.v,{style:{minHeight:"1px"}}),r.a.createElement(sa,{hariID:"0",jadwalDay:t[0]}),r.a.createElement(sa,{hariID:"1",jadwalDay:t[1]}),r.a.createElement(sa,{hariID:"2",jadwalDay:t[2]}),r.a.createElement(sa,{hariID:"3",jadwalDay:t[3]}),r.a.createElement(sa,{hariID:"4",jadwalDay:t[4]}),r.a.createElement(sa,{hariID:"5",jadwalDay:t[5]}),r.a.createElement(sa,{hariID:"6",jadwalDay:t[6]})))},da=function(){var e=Object(c.d)((function(e){return e})),a=(Object(c.d)((function(e){return e.addLayananIsComplete})),window.location.href.split("/")[5]),t="/pemilik/gerai/"+a,l=Object(c.c)(),i=Object(c.d)((function(e){return e.pemilik.id})),o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],p=u[1],f=(e.addKlasterIsComplete,window.location.href.split("/")[7]),b=e.pemilik.klasters,h={nama:"",jadwal:"",durasi:"",prefix:""},k=!0,y=!1,j=void 0;try{for(var O,v=b[Symbol.iterator]();!(k=(O=v.next()).done);k=!0){var S=O.value;S.id===f&&(h=S)}}catch(ee){y=!0,j=ee}finally{try{k||null==v.return||v.return()}finally{if(y)throw j}}var w=e.pemilik.gerais,T="",_=!0,N=!1,x=void 0;try{for(var I,C=w[Symbol.iterator]();!(_=(I=C.next()).done);_=!0){var B=I.value;B.kode===a&&(T=B.id)}}catch(ee){N=!0,x=ee}finally{try{_||null==C.return||C.return()}finally{if(N)throw x}}var D=Object(n.useState)(!1),L=Object(s.a)(D,2),K=L[0],F=L[1],P=Object(n.useState)(h.durasi),R=Object(s.a)(P,2),U=R[0],M=R[1],H=Object(n.useState)(h.nama),G=Object(s.a)(H,2),J=G[0],z=G[1],W=Object(n.useState)(h.prefix),q=Object(s.a)(W,2),Q=q[0],Y=q[1];Object(n.useEffect)((function(){aa()("#the-tabbar").hide()}));var V=e.pemilikBelongingsUpToDate,Z=e.isDeleting;function $(){return($=Object(E.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(p(!0),t=new Array(0),n=0;n<7;n++)"s"===aa()("#jadwal-hari-"+n).val()?t[n]=aa()("#jadwal-hari-0").val():t[n]=aa()("#jadwal-hari-"+n).val();return e.next=5,A();case 5:e.t0=e.sent,e.t1=i,e.t2=a,e.t3=J,e.t4=JSON.stringify(t),e.t5=f,e.t6=U,e.t7=Q,r={token:e.t0,id_pemilik:e.t1,kode:e.t2,nama:e.t3,jadwal:e.t4,id_klaster:e.t5,durasi:e.t6,prefix:e.t7},l(se(r));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(E.a)(g.a.mark((function a(){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l(Ce(!0)),a.next=3,A();case 3:a.t0=a.sent,a.t1=e.pemilik.id,a.t2=T,a.t3=f,t={token:a.t0,id_pemilik:a.t1,id_gerai:a.t2,id_klaster:a.t3},l(me(t));case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){V||(p(!1),aa()("#btn-back").click())})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,null,r.a.createElement(m.e,{defaultHref:t}),r.a.createElement(m.Q,null,"Edit Klaster")))),r.a.createElement(m.o,null,r.a.createElement(m.z,{isOpen:d||Z}),r.a.createElement(m.y,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Nama:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"Teller, CS, dll.",onIonChange:function(e){return z(e.target.value)},required:!0,value:J})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Waktu operasional:"),"\xa0"),r.a.createElement(ma,{jadwal:h.jadwal}),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Perkiraan durasi (menit):"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"5 (menit)",value:U,onIonChange:function(e){return M(e.target.value)}})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Prefix slot (huruf):"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:'misal "A"',value:Q,onIonChange:function(e){return Y(e.target.value)}})),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{expand:"block",onClick:function(){return function(){return $.apply(this,arguments)}()}},"Submit"))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{fill:"outline",color:"danger",expand:"block",onClick:function(){return F(!0)}},"Hapus Klaster")))),r.a.createElement(m.b,{isOpen:K,onDidDismiss:function(){return F(!1)},header:"Hapus klaster?",message:"Semua layanan yang terhubung dengan klaster ini akan dihapus juga.",buttons:[{text:"Batal",role:"cancel",handler:function(e){}},{text:"Hapus",handler:function(){!function(){X.apply(this,arguments)}()}}]}),r.a.createElement("div",{className:"custom-filler"})),r.a.createElement(m.g,{className:"custom-hidden",routerLink:t,id:"btn-back"}))},pa=function(){var e=Object(c.d)((function(e){return e})),a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],i=t[1],o=window.location.href.split("/")[7],u=e.pemilik.layanans,d={id:"",nama:"",kode:"",deskripsi:"",syarat:"",aktif:!0},p=!0,f=!1,b=void 0;try{for(var h,k=u[Symbol.iterator]();!(p=(h=k.next()).done);p=!0){var y=h.value;y.kode===o&&(d=y)}}catch(ee){f=!0,b=ee}finally{try{p||null==k.return||k.return()}finally{if(f)throw b}}var j=e.pemilik.klasters,O="",v=!0,S=!1,w=void 0;try{for(var T,_=j[Symbol.iterator]();!(v=(T=_.next()).done);v=!0){var N=T.value;N.kode===O&&(O=N.kode)}}catch(ee){S=!0,w=ee}finally{try{v||null==_.return||_.return()}finally{if(S)throw w}}var x="/pemilik/gerai/"+window.location.href.split("/")[5],I=Object(n.useState)(!1),C=Object(s.a)(I,2),B=C[0],D=C[1],L=Object(n.useState)(d),K=Object(s.a)(L,2),F=K[0],P=K[1],U=!!(Array.isArray(j)&&j.length>0),H=Object(n.useState)(O),G=Object(s.a)(H,2),z=G[0],W=G[1],q=Object(c.c)(),Q=e.addLayananIsComplete,Y=e.pemilikBelongingsUpToDate;function V(){return(V=Object(E.a)(g.a.mark((function a(){var t,n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=!0,""!==F.nama&&""!==F.kode&&""!==F.deskripsi&&""!==F.syarat||(t=!1),t){a.next=7;break}return R("Harap isi dengan lengkap"),a.abrupt("return");case 7:if(F.kode.match(/^\S*$/)){a.next=12;break}return R("Kode tidak boleh mengandung spasi"),a.abrupt("return");case 12:if(F.kode.match(/^[a-zA-Z0-9_.-]*$/)){a.next=15;break}return R("Kode hanya boleh mengandung huruf dan angka"),a.abrupt("return");case 15:return D(!0),a.t0=J.a,a.next=19,A();case 19:a.t1=a.sent,a.t2=e.pemilik.id,a.t3={token:a.t1,id_pemilik:a.t2},a.t4=F,a.t5={id_klaster:z,laykode:d.kode,id_layanan:d.id},n=(0,a.t0)(a.t3,a.t4,a.t5),q(de(n));case 26:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function Z(){return(Z=Object(E.a)(g.a.mark((function a(){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return D(!0),a.next=3,A();case 3:a.t0=a.sent,a.t1=e.pemilik.id,a.t2=d.id,t={token:a.t0,id_pemilik:a.t1,id_layanan:a.t2},q(pe(t));case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function $(){return($=Object(E.a)(g.a.mark((function a(){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return D(!0),a.next=3,A();case 3:a.t0=a.sent,a.t1=e.pemilik.id,a.t2=d.id,t={token:a.t0,id_pemilik:a.t1,id_layanan:a.t2},q(fe(t));case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function X(){return(X=Object(E.a)(g.a.mark((function a(){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return D(!0),a.next=3,A();case 3:a.t0=a.sent,a.t1=e.pemilik.id,a.t2=d.id,t={token:a.t0,id_pemilik:a.t1,id_layanan:a.t2},q(ge(t));case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){U&&W(j[0].id),Q&&(D(!1),q(ae(!1)),aa()("#btn-back").click()),Y||(D(!1),aa()("#btn-back").click())})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,{slot:"start"},r.a.createElement(m.e,{defaultHref:x})),r.a.createElement(m.Q,null,"Edit Layanan"),r.a.createElement(m.h,{slot:"end"},r.a.createElement(m.g,null,r.a.createElement(m.s,{icon:M.s}))))),r.a.createElement(m.o,null,r.a.createElement(m.z,{isOpen:B}),r.a.createElement(m.y,null,r.a.createElement(m.u,null,r.a.createElement("b",null,"Nama:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"Tukar Uang",onIonChange:function(e){return P(Object(J.a)({},F,{nama:e.target.value}))},value:F.nama})),r.a.createElement(m.u,null,r.a.createElement("b",null,"Kode:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"tukaruang",onIonChange:function(e){return P(Object(J.a)({},F,{kode:e.target.value}))},value:F.kode})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Deskripsi:"),"\xa0"),r.a.createElement(m.u,null,r.a.createElement(m.P,{placeholder:"Menukar uang lama dengan yang baru",onIonChange:function(e){return P(Object(J.a)({},F,{deskripsi:e.target.value}))},value:F.deskripsi})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Syarat:"),"\xa0"),r.a.createElement(m.u,null,r.a.createElement(m.P,{placeholder:"Uang lama atau rusak, KTP",onIonChange:function(e){return P(Object(J.a)({},F,{syarat:e.target.value}))},value:F.syarat})),r.a.createElement(m.u,null,r.a.createElement("b",null,"Klaster:"),"\xa0",r.a.createElement(m.J,{interface:"popover",value:z,slot:"end"},j.map((function(e){return r.a.createElement(m.K,{value:e.id,key:e.id,onClick:function(){return W(e.id)}},e.nama)}))))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{expand:"block",onClick:function(){return function(){return V.apply(this,arguments)}()}},"Submit"))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,d.aktif?r.a.createElement(m.g,{expand:"block",fill:"outline",onClick:function(){return function(){return $.apply(this,arguments)}()}},"Deaktivasi"):r.a.createElement(m.g,{expand:"block",fill:"outline",onClick:function(){return function(){return X.apply(this,arguments)}()}},"Aktivasi"))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{expand:"block",color:"danger",fill:"outline",onClick:function(){return i(!0)}},"Hapus layanan"))),r.a.createElement(m.b,{isOpen:l,onDidDismiss:function(){return i(!1)},header:"Hapus layanan?",message:"Jika layanan ini ingin dibuka lagi, sebaiknya gunakan opsi deaktivasi.",buttons:[{text:"Batal",role:"cancel",handler:function(e){}},{text:"Hapus",handler:function(){!function(){Z.apply(this,arguments)}()}}]}),r.a.createElement("div",{className:"custom-filler"})),r.a.createElement(m.g,{className:"custom-hidden",id:"btn-back",routerLink:x}))},fa=function(){var e=Object(c.d)((function(e){return e})),a="/pemilik/gerai/"+window.location.href.split("/")[5],t=Object(n.useState)(!1),l=Object(s.a)(t,2),i=l[0],o=l[1],u=e.chosenGeraiKode,d=Object(n.useState)({nama:"",kode:"",deskripsi:"",syarat:""}),p=Object(s.a)(d,2),f=p[0],b=p[1],h={id:""};e.pemilik.gerais.forEach((function(e){e.kode===u&&(h=e)}));var k=new Array(0);"undefined"!==typeof e.pemilik.klasters&&e.pemilik.klasters.forEach((function(e){e.id_gerai==h.id&&(k=k.concat(e))}));var y=!!(Array.isArray(k)&&k.length>0),j=Object(n.useState)(),O=Object(s.a)(j,2),v=O[0],S=O[1],w=Object(c.c)(),T=e.addLayananIsComplete;function _(){return(_=Object(E.a)(g.a.mark((function a(){var t,n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=!0,""!==f.nama&&""!==f.kode&&""!==f.deskripsi&&""!==f.syarat||(t=!1),t){a.next=7;break}return R("Harap isi dengan lengkap"),a.abrupt("return");case 7:if(f.kode.match(/^\S*$/)){a.next=12;break}return R("Kode tidak boleh mengandung spasi"),a.abrupt("return");case 12:if(f.kode.match(/^[a-zA-Z0-9_.-]*$/)){a.next=15;break}return R("Kode hanya boleh mengandung huruf dan angka"),a.abrupt("return");case 15:return o(!0),a.t0=J.a,a.next=19,A();case 19:a.t1=a.sent,a.t2=e.pemilik.id,a.t3={token:a.t1,id_pemilik:a.t2},a.t4=f,a.t5={id_klaster:v},n=(0,a.t0)(a.t3,a.t4,a.t5),w(te(n));case 26:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){y&&S(k[0].id),T&&(o(!1),w(ae(!1)),aa()("#btn-back").click())})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,{slot:"start"},r.a.createElement(m.e,{defaultHref:a})),r.a.createElement(m.Q,null,"Buat Layanan"),r.a.createElement(m.h,{slot:"end"},r.a.createElement(m.g,null,r.a.createElement(m.s,{icon:M.s}))))),r.a.createElement(m.o,null,r.a.createElement(m.z,{isOpen:i}),y?r.a.createElement(m.y,null,r.a.createElement(m.u,null,r.a.createElement("b",null,"Nama:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"Tukar Uang",onIonChange:function(e){return b(Object(J.a)({},f,{nama:e.target.value}))}})),r.a.createElement(m.u,null,r.a.createElement("b",null,"Kode:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"tukaruang",onIonChange:function(e){return b(Object(J.a)({},f,{kode:e.target.value}))}})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Deskripsi:"),"\xa0"),r.a.createElement(m.u,null,r.a.createElement(m.P,{placeholder:"Menukar uang lama dengan yang baru",onIonChange:function(e){return b(Object(J.a)({},f,{deskripsi:e.target.value}))}})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Syarat:"),"\xa0"),r.a.createElement(m.u,null,r.a.createElement(m.P,{placeholder:"Uang lama atau rusak, KTP",onIonChange:function(e){return b(Object(J.a)({},f,{syarat:e.target.value}))}})),r.a.createElement(m.u,null,r.a.createElement("b",null,"Klaster:"),"\xa0",r.a.createElement(m.J,{interface:"popover",value:v,slot:"end"},k.map((function(e){return r.a.createElement(m.K,{value:e.id,key:e.id,onClick:function(){return S(e.id)}},e.nama)}))))):r.a.createElement("p",{className:"ion-padding-horizontal"},"Gerai ini belum memiliki klaster. Silahkan membuat klaster terlebih dahulu."),y?r.a.createElement("div",{className:"ion-padding"},r.a.createElement(m.g,{expand:"block",onClick:function(){return function(){return _.apply(this,arguments)}()}},"Buat")):"",r.a.createElement("div",{className:"custom-filler"})),r.a.createElement(m.g,{className:"custom-hidden",id:"btn-back",routerLink:a}))},ga=function(){var e=Object(c.d)((function(e){return e})),a=(Object(c.d)((function(e){return e.addLayananIsComplete})),window.location.href.split("/")[5]),t="/pemilik/gerai/"+a,l=Object(c.c)(),i=Object(c.d)((function(e){return e.pemilik.id})),o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],p=u[1],f=e.addKlasterIsComplete,b=Object(n.useState)(""),h=Object(s.a)(b,2),k=h[0],y=h[1],j=Object(n.useState)(""),O=Object(s.a)(j,2),v=O[0],S=O[1],w=Object(n.useState)(""),T=Object(s.a)(w,2),_=T[0],N=T[1],x=e.chosenGeraiKode,I="";function C(){return(C=Object(E.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(p(!0),t=new Array(0),n=0;n<7;n++)"s"===aa()("#jadwal-hari-"+n).val()?t[n]=aa()("#jadwal-hari-0").val():t[n]=aa()("#jadwal-hari-"+n).val();return e.next=5,A();case 5:e.t0=e.sent,e.t1=i,e.t2=I,e.t3=a,e.t4=k,e.t5=JSON.stringify(t),e.t6=v,e.t7=_,r={token:e.t0,id_pemilik:e.t1,id_gerai:e.t2,kode:e.t3,nama:e.t4,jadwal:e.t5,durasi:e.t6,prefix:e.t7},l(re(r));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.pemilik.gerais.forEach((function(e){e.kode===x&&(I=e.id)})),Object(n.useEffect)((function(){f&&(p(!1),l(ne(!1)),aa()("#btn-back").click())})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,null,r.a.createElement(m.e,{defaultHref:t}),r.a.createElement(m.Q,null,"Buat Klaster")))),r.a.createElement(m.o,null,r.a.createElement(m.z,{isOpen:d}),r.a.createElement(m.y,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Nama:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"Teller, CS, dll.",onIonChange:function(e){return y(e.target.value)},required:!0})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Waktu operasional:"),"\xa0"),r.a.createElement(ma,{jadwal:"empty"}),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Perkiraan durasi (menit):"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"5 (menit)",onIonChange:function(e){return S(e.target.value)}})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Prefix slot (huruf):"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:'misal "A"',onIonChange:function(e){return N(e.target.value)}})),r.a.createElement("div",{className:"ion-padding"},r.a.createElement(m.g,{expand:"block",onClick:function(){return function(){return C.apply(this,arguments)}()}},"Buat"))),r.a.createElement("div",{className:"custom-filler"})),r.a.createElement(m.g,{className:"custom-hidden",routerLink:t,id:"btn-back"}))},Ea=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],l=a[1],i=Object(c.d)((function(e){return e})),o=Object(c.d)((function(e){return e.pemilik})),u=Object(c.c)(),d=(Object(c.d)((function(e){return e.geraiNeedsUpdate})),i.pemilik.gerais),p=i.pemilikBelongingsUpToDate,f=window.location.href.split("/")[5],b="",h={nama:"",deskripsi:"",alamat:"",kode:"",wilayah:"",tautan:""},k=!0,y=!1,j=void 0;try{for(var O,v=d[Symbol.iterator]();!(k=(O=v.next()).done);k=!0){var S=O.value;S.kode===f&&(b=S.id,h=S)}}catch(le){y=!0,j=le}finally{try{k||null==v.return||v.return()}finally{if(y)throw j}}var w=Object(n.useState)(h.nama),T=Object(s.a)(w,2),_=T[0],N=T[1],x=Object(n.useState)(h.deskripsi),I=Object(s.a)(x,2),C=I[0],B=I[1],D=Object(n.useState)(h.alamat),L=Object(s.a)(D,2),K=L[0],F=L[1],P=Object(n.useState)(h.wilayah),U=Object(s.a)(P,2),M=U[0],H=U[1],G=Object(n.useState)(h.kode),J=Object(s.a)(G,2),z=J[0],W=J[1],q=Object(n.useState)(h.tautan),Q=Object(s.a)(q,2),Y=Q[0],V=Q[1],Z=Object(n.useState)(!1),$=Object(s.a)(Z,2),X=$[0],ae=$[1];function te(){return(te=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==_&&""!==z&&""!==C&&""!==K&&""!==M){e.next=3;break}return R("Mohon isi formulir secara lengkap"),e.abrupt("return",!1);case 3:return l(!0),e.next=6,A();case 6:e.t0=e.sent,e.t1=o.id,e.t2=_,e.t3=z,e.t4=C,e.t5=K,e.t6=M,e.t7=b,e.t8=Y,a={token:e.t0,id_pemilik:e.t1,nama:e.t2,kode:e.t3,deskripsi:e.t4,alamat:e.t5,wilayah:e.t6,id_gerai:e.t7,tautan:e.t8},u(ue(a));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,A();case 3:e.t0=e.sent,e.t1=o.id,e.t2=z,a={token:e.t0,id_pemilik:e.t1,kode:e.t2},u(ee(a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){aa()("#konfirmasi-hapus").val()===z?function(){ne.apply(this,arguments)}():R("Konfirmasi gagal. Batal dihapus")}return Object(n.useEffect)((function(){p||(l(!1),R("Berhasil"),window.location.href="/pemilik/gerai")})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,{slot:"start"},r.a.createElement(m.e,{defaultHref:"/pemilik/gerai"})),r.a.createElement(m.Q,null,"Edit Gerai"))),r.a.createElement(m.o,null,r.a.createElement(m.g,{id:"btnToGerai",className:"custom-hidden",routerLink:"/pemilik/gerai"}),r.a.createElement(m.z,{isOpen:t}),r.a.createElement(m.q,null,r.a.createElement(m.y,null,r.a.createElement(m.u,null,r.a.createElement("b",null,"Nama:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"Rumah Sakit Meikarta",onIonChange:function(e){return N(e.target.value)},required:!0,value:_})),r.a.createElement(m.u,null,r.a.createElement("b",null,"Kode:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"rsmeikarta",onIonChange:function(e){return W(e.target.value)},required:!0,value:z})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Deskripsi:"),"\xa0"),r.a.createElement(m.u,null,r.a.createElement(m.P,{onIonChange:function(e){return B(e.target.value)},placeholder:"Tersedia Poliklinik dan layanan lainnya",value:C})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Alamat:"),"\xa0"),r.a.createElement(m.u,null,r.a.createElement(m.P,{onIonChange:function(e){return F(e.target.value)},placeholder:"Jl. Kenangan No. 420, Meikarta",value:K})),r.a.createElement(m.u,null,r.a.createElement("b",null,"Wilayah:"),"\xa0",r.a.createElement(m.J,{slot:"end",value:M,interface:"alert",onIonChange:function(e){return H(e.detail.value)}},la.map((function(e){return r.a.createElement(m.K,{key:e,value:e},e)})))),r.a.createElement(m.u,null,r.a.createElement("b",null,"Tautan lokasi (opsional):"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"https://goo.gl/maps/yTzNq95m7WKJQgCp7",onIonChange:function(e){return V(e.target.value)},required:!0,value:Y}))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{type:"submit",expand:"block",onClick:function(){return function(){return te.apply(this,arguments)}()}},"Submit"))),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{color:"danger",fill:"outline",expand:"block",onClick:function(){return ae(!0)}},"Hapus gerai")))),r.a.createElement(m.b,{isOpen:X,onDidDismiss:function(){return ae(!1)},header:"Hapus gerai?",message:"Mohon ketik <b>"+z+"</b> untuk mengonfirmasi",buttons:[{text:"Batal",role:"cancel",handler:function(e){}},{text:"Hapus",handler:function(){re()}}],inputs:[{id:"konfirmasi-hapus",type:"text",placeholder:"Kode gerai"}]}),r.a.createElement("div",{className:"custom-filler"})))},ba=function(){var e=Object(c.d)((function(e){return e})),a=(e.pengguna,K.auth().currentUser),t=Object(n.useState)(null===a||void 0===a?void 0:a.displayName),l=Object(s.a)(t,2),i=l[0],o=l[1],u=Object(n.useState)(!1),d=Object(s.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)((null===a||void 0===a?void 0:a.email)?null===a||void 0===a?void 0:a.email:""),h=Object(s.a)(b,2),k=h[0],y=h[1];Object(c.c)();function j(){return(j=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),null===a||void 0===a||a.updateEmail(k).then((function(e){null===a||void 0===a||a.updateProfile({displayName:i}).then((function(e){f(!1),aa()("#btn-to-akun").click()})).catch((function(e){f(!1),R("error: "+e.message)}))})).catch((function(e){f(!1),console.log(e.message),R("Sudah lama sejak terakhir kali anda login. Anda akan diarahkan ke halaman login"),setTimeout((function(){return _((function(e){!0===e&&(window.location.href="/")}))}),2e3)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.g,{id:"btn-to-akun",className:"ion-hide",routerLink:"/"+e.role+"/akun"}),r.a.createElement(m.z,{isOpen:p}),r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,{slot:"start"},r.a.createElement(m.e,{defaultHref:"/pengantri/akun"})),r.a.createElement(m.Q,null,"Edit akun"))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Nama:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"Nama singkat",onIonChange:function(e){return o(e.target.value)},required:!0,value:i})),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Email:"),"\xa0",r.a.createElement(m.t,{type:"text",placeholder:"user@nori.id",onIonChange:function(e){return y(e.target.value)},required:!0,value:k})),r.a.createElement(m.g,{className:"ion-margin",expand:"block",onClick:function(){return function(){return j.apply(this,arguments)}()}},"Submit"),r.a.createElement("div",{className:"custom-filler"})))},ha=function(){var e=Object(c.d)((function(e){return e.pemilik.isRegistered})),a=(Object(c.d)((function(e){return e.pemilik.id_pemilik})),Object(n.useState)(!0)),t=Object(s.a)(a,2),l=t[0],i=t[1],o=Object(n.useState)(!0),u=Object(s.a)(o,2),d=u[0],f=u[1],b=Object(c.c)(),k=Object(c.d)((function(e){return e}));function y(){return(y=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,A();case 3:e.t0=e.sent,a={token:e.t0},h.a.get(q+"/pemilik/me?"+W.a.stringify(a)).then((function(e){if(!1!==e.data){b($({id:e.data,isRegistered:!0}));e.data;j(e.data)}else f(!1),b($({id:"",isRegistered:!1}))})).catch((function(e){R("terjadi kesalahan:"+e),console.log(e),b(ce(e))}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return O.apply(this,arguments)}function O(){return(O=Object(E.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,A();case 3:e.t0=e.sent,e.t1=a,t={token:e.t0,id_pemilik:e.t1},console.log("params",t),h.a.get(q+"/pemilik/getAllBelongings?"+Object(z.stringify)(t)).then((function(e){b(le(e.data))})).catch((function(e){R("Terjadi kesalahan")})).then((function(){f(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:a=e.sent,b(je(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){""===k.pengguna.uid&&function(){v.apply(this,arguments)}()})),l&&(!function(){y.apply(this,arguments)}(),i(!1)),d?r.a.createElement(F,null):e?r.a.createElement(m.O,null,r.a.createElement(m.E,null,r.a.createElement(p.e,null,r.a.createElement(p.b,{exact:!0,from:"/pemilik",to:"/pemilik/gerai"}),r.a.createElement(p.c,{path:"/pemilik/register",component:Xe,exact:!0}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/gerai",component:na}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/gerai/daftar",component:ia}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/gerai/:id/klaster/:id",component:da}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/gerai/:id/layanan/:id",component:pa}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/gerai/:id",component:na}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/gerai/:id/tambahLayanan",component:fa}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/gerai/:id/tambahKlaster",component:ga}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/gerai/:id/edit",component:Ea}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/akun",component:ra}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/akun/edit",component:ba}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/akun/gerai/daftar",component:ia}),r.a.createElement(p.c,{exact:!0,path:"/pemilik/akun/logout",component:$e}),r.a.createElement(p.c,{path:"/logout",render:function(){return r.a.createElement($e,null)},exact:!0}))),r.a.createElement(m.M,{slot:"bottom",selectedTab:"antrian"},r.a.createElement(m.N,{tab:"gerai",href:"/pemilik/gerai"},r.a.createElement(m.s,{icon:M.d}),r.a.createElement(m.w,null,"Gerai")),r.a.createElement(m.N,{tab:"akun",href:"/pemilik/akun"},r.a.createElement(m.s,{icon:M.y}),r.a.createElement(m.w,null,"Akun")))):r.a.createElement(Xe,null)},ka=Object(c.b)()((function(){Object(c.d)((function(e){return e.antrians})),Object(c.d)((function(e){return e}));var e,a,t=Object(c.d)((function(e){return e.role})),l=Object(n.useState)("berlangsung"),i=Object(s.a)(l,2),o=(i[0],i[1],Object(c.d)((function(e){return e}))),u=o.pengguna,d=Object(c.c)();o.fcmToken;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,null,r.a.createElement(m.J,{interface:"popover",value:t,onIonChange:function(e){return a=e.target.value,void(window.location.href="/"+a);var a}},r.a.createElement(m.K,{value:"pengantri"},"Pengantri"),r.a.createElement(m.K,{value:"pemilik"},"Pemilik"),r.a.createElement(m.K,{value:"staf"},"Staf"))),r.a.createElement(m.h,{slot:"end"},r.a.createElement(m.g,{fill:"clear",color:"danger",onClick:function(){_((function(e){!0===e&&(window.location.href="/")}))}},"Logout")))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){d(je(K.auth().currentUser)),setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),r.a.createElement("div",{className:"ion-padding-vertical ion-padding-end"},r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.d,null,u.photoURL?r.a.createElement("img",{src:u.photoURL}):r.a.createElement("img",{src:"/assets/img/person-circle-outline.svg"})),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,u.displayName?u.displayName:"user tanpa nama"),r.a.createElement("p",null)),(null===(e=K.auth().currentUser)||void 0===e?void 0:e.emailVerified)?r.a.createElement(m.s,{icon:M.v}):"",r.a.createElement(m.s,{className:(null===(a=K.auth().currentUser)||void 0===a?void 0:a.emailVerified)?"ion-hide":"",onClick:function(){return aa()("#btn-edit-akun").click()},icon:M.m}))),r.a.createElement(m.v,{className:"custom-divider"}),r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("h3",null,"Email")),r.a.createElement(m.w,{slot:"end",className:"ion-text-right"},r.a.createElement("p",null,u.email))),r.a.createElement(m.v,{mode:"ios"},"Pengantri"),r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("h3",null,"Jumlah keterlambatan")),r.a.createElement("p",{slot:"end"},o.pengantri.penalti?o.pengantri.penalti.length:"0")),o.pengantri.banned?r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("h3",null,"Berakhirnya hukuman")),r.a.createElement("p",{slot:"end"},D(o.pengantri.banned))):"",r.a.createElement(m.g,{className:"ion-hide",id:"btn-logout",onClick:function(){_((function(e){!0===e&&(window.location.href="/")}))}},"Logout"),r.a.createElement(m.g,{className:"ion-hide",routerLink:"/pengantri/akun/edit",id:"btn-edit-akun"}),r.a.createElement("div",{className:"custom-filler"})))})),ya=function(e){var a=e.props,t=Object(n.useState)(!1),l=Object(s.a)(t,2),i=l[0],o=l[1],u=Object(n.useState)(a.status),d=Object(s.a)(u,2),p=(d[0],d[1],Object(c.d)((function(e){return e}))),f=p.isFetching,b=Object(c.c)(),k=p.klasterRelateds[a.id_klaster],y=Object(n.useState)("/pengantri/cari"),O=Object(s.a)(y,2),v=(O[0],O[1],B()),S=Object(n.useState)(""),w=Object(s.a)(S,2),T=w[0],_=w[1],N=Object(n.useState)(!1),I=Object(s.a)(N,2),C=I[0],K=I[1],F=Object(n.useState)(!1),P=Object(s.a)(F,2),R=P[0],U=P[1],H=Object(n.useState)(0),G=Object(s.a)(H,2),z=G[0],W=G[1],Y=Object(n.useState)(!1),V=Object(s.a)(Y,2),Z=V[0],$=V[1],X={minHeight:"1px"},ee={color:"inherit"};function ae(){return(ae=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.t1=_e,e.next=4,A();case 4:e.t2=e.sent,e.t3={token:e.t2},e.t4=(0,e.t1)(e.t3),(0,e.t0)(e.t4);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){var e;$(!0),b((e={id_pesanan:a.id},function(a){h.a.get(q+"/pesanan/diLokasi?"+Object(Q.stringify)(e)).then((function(e){console.log("diLokasi?",e.data),a(Se(!1))}))}))}function ne(){var e;$(!0),b((e={id_pesanan:a.id},function(a){h.a.get(q+"/pesanan/confirmSelesai?"+Object(Q.stringify)(e)).then((function(e){console.log("confirmSelesai?",e.data),a(Se(!1))}))}))}function re(){var e;$(!0),b((e={id_pesanan:a.id},function(a){h.a.get(q+"/pesanan/belumSelesai?"+Object(Q.stringify)(e)).then((function(e){console.log("belumSelesai?",e.data),a(Se(!1))}))}))}return Object(n.useEffect)((function(){var e;if(console.log("curr for ",a.prefix+a.slot,z),"undefined"!==typeof k||f||(b(Se(!0)),b((e={id_klaster:a.id_klaster,id_layanan:a.id_layanan},function(a){h.a.get(q+"/klaster/getRelatedData?"+Object(Q.stringify)(e)).then((function(e){var t=Object(J.a)({},e.data,{identifier:e.data.id});a(xe(t))}))}))),"undefined"!==typeof k&&!C){K(!0);var t=JSON.parse(k.jadwal),n=L(a.tanggal),r={slot:a.slot,hari:n,jadwal:t,durasi:parseInt(k.durasi)};console.log("perk",r);x(r);_(x(r)),function(e){console.log("opening for "+k.nama,"id klaster",a.id_klaster);var t=j.collection("pesanan").where("id_klaster","==",a.id_klaster).where("tanggal","==",v.toString()).onSnapshot((function(e){var a=0,t=0;e.forEach((function(e){"0"==e.data().slot&&U(!0),e.data().status&&3!=e.data().status||(0==a?t=parseInt(e.data().slot):(0==t&&(t=parseInt(e.data().slot)),t>e.data().slot&&(t=parseInt(e.data().slot)))),0!=e.data().slot&&a++}));var n=!1;e.forEach((function(e){e.data().slot==t&&0!=t&&(n=!0,W(e.data().slot))})),n||W(0)}));"stop"===e&&t()}("start")}Z&&(3!=a.status&&a.status||$(!1)),2!=a.status||f||(b(Se(!0)),function(){ae.apply(this,arguments)}())})),r.a.createElement(m.i,{className:"card-antrian"},"undefined"===typeof k?r.a.createElement(m.L,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.g,{className:"ion-hide",id:"btn-gerai"+a.id,routerLink:"/pengantri/cari/"+k.gerai.kode}),r.a.createElement(m.g,{className:"ion-hide",id:"btn-layanan"+a.id,routerLink:"/pengantri/cari/"+k.gerai.kode+"/"+k.layanan.kode+"/"+a.tanggal}),r.a.createElement(m.u,{style:ee,lines:"none",className:"ripple-transparent"},r.a.createElement(m.w,null,r.a.createElement("h3",{onClick:function(){return aa()("#btn-gerai"+a.id).click()}},r.a.createElement("b",null,k.gerai.nama)),r.a.createElement("p",{onClick:function(){return aa()("#btn-layanan"+a.id).click()}},k.layanan.nama)),a.tanggal!=v?r.a.createElement(m.f,{color:"light"},"Dipesan"):2==a.status?r.a.createElement(m.f,{color:"danger"},"Terlambat"):1==a.status||4==a.status?r.a.createElement(m.f,{color:"success"},"Selesai"):R?r.a.createElement(m.f,{color:"warning"},"Berlangsung"):r.a.createElement(m.f,{color:"light"},"Belum buka")),r.a.createElement(m.v,{style:X}),r.a.createElement(m.j,null,r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.l,null,"Slot Anda"),r.a.createElement(m.f,{color:"primary"},a.prefix+"-"+a.slot)),v==a.tanggal&&0!=z&&1!=a.status&&R&&4!=a.status?2==a.status?r.a.createElement(m.n,null,r.a.createElement(m.l,null,"Slot sekarang"),r.a.createElement(m.f,{color:"danger"},k.prefix+"-"+z)):r.a.createElement(m.n,null,r.a.createElement(m.l,null,"Slot sekarang"),r.a.createElement(m.f,{color:"warning"},k.prefix+"-"+z)):"",a.waktu_selesai?r.a.createElement(m.n,null,r.a.createElement(m.l,null,"Waktu selesai"),function(e){var a=new Date(1e3*e);return(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())}(a.waktu_selesai)):""),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.l,null,"Tanggal"),D(a.tanggal)),r.a.createElement(m.n,null,r.a.createElement(m.B,{isOpen:i,onDidDismiss:function(e){return o(!1)}},r.a.createElement(m.u,{lines:"none",style:ee},r.a.createElement(m.w,null,r.a.createElement("b",null,"Info")),r.a.createElement(m.s,{icon:M.k,onClick:function(){return o(!1)}})),r.a.createElement(m.v,{style:X}),r.a.createElement("div",{style:{marginLeft:"16px",marginRight:"16px",marginTop:"16px"}},r.a.createElement("p",null,"Waktu slot adalah perkiraan kapan anda akan dipanggil."),r.a.createElement("p",null,"Dalam pelaksanaannya, bisa saja lebih awal atau terjadi kemunduran."),r.a.createElement("p",null,"Jika nomor urut anda sudah dilampaui sebelum perkiraan dipanggil, anda tidak dikenakan penalti. Sebaliknya jika nomor urut anda sudah dilampaui ketika waktu sudah melebihi perkiraan, maka anda dikenakan penalti"))),r.a.createElement(m.l,{onClick:function(){return o(!i)}},"Perkiraan",r.a.createElement(m.s,{icon:M.r})),T)),2==a.status?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.v,{className:"custom-divider"}),r.a.createElement(m.g,{expand:"block",disabled:Z,onClick:function(){return te()}},"Saya sudah di lokasi")):"",1==a.status?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.v,{className:"custom-divider"}),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{disabled:Z,expand:"block",fill:"outline",onClick:function(){return re()}},"Belum")),r.a.createElement(m.n,null,r.a.createElement(m.g,{disabled:Z,expand:"block",onClick:function(){return ne()}},"Selesai")))):"")))},ja=t(74),Oa=t.n(ja),va=Object(c.b)()((function(){var e=Object(c.d)((function(e){return e.pesanans})),a=Object(c.d)((function(e){return e})),t=Object(n.useState)("berlangsung"),l=Object(s.a)(t,2),i=l[0],o=l[1],u=B(),d=Object(c.c)(),p=(a.pesanans,Object(n.useState)(!1)),f=Object(s.a)(p,2),g=f[0],E=f[1],b=Object(n.useState)(!0),h=Object(s.a)(b,2),k=h[0],y=h[1],O=Object(n.useState)(!0),v=Object(s.a)(O,2),S=v[0],w=v[1],T=Object(n.useState)(!1),_=Object(s.a)(T,2),N=_[0],A=_[1];function x(e){var t=j.collection("pesanan").where("id_pengantri","==",a.pengantri.id).onSnapshot((function(e){E(!0),y(!0),w(!0);var a=new Array(0);e.forEach((function(e){if(parseInt(e.data().tanggal)>=u){var t=e.data();t.id=e.id,a=a.concat(t),t.tanggal==u?y(!1):w(!1)}})),a=Oa()(a,"status"),d({type:"SET_PESANANS",payload:a})}));"stop"===e&&t()}return Object(n.useEffect)((function(){N||(A(!0),x("start"))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.Q,null,"Antrian (live)")),r.a.createElement(m.S,null,r.a.createElement(m.H,{value:i,onIonChange:function(e){return a=e.detail.value,o(a),aa()(".customSegments").hide(),void aa()("#segment-"+a).show();var a}},r.a.createElement(m.I,{value:"berlangsung"},r.a.createElement(m.w,null,"Hari ini")),r.a.createElement(m.I,{value:"mendatang"},r.a.createElement(m.w,null,"Mendatang"))))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){x("stop"),x("start"),setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),g?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"segment-berlangsung",className:"customSegments"},k?r.a.createElement("div",{className:"ion-padding"},"Anda tidak memiliki reservasi untuk hari ini"):e.map((function(e){return B()==e.tanggal?r.a.createElement(ya,{key:e.id,props:e}):""}))),r.a.createElement("div",{id:"segment-mendatang",className:"customSegments",style:{display:"none"}},S?r.a.createElement("div",{className:"ion-padding"},"Anda tidak memiliki reservasi mendatang"):e.map((function(e){return B()!=e.tanggal?r.a.createElement(ya,{key:e.id,props:e}):""})))):r.a.createElement("div",{className:"ion-padding"},r.a.createElement(m.L,null)),r.a.createElement("div",{className:"custom-filler"})))})),Sa=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],l=(a[1],Object(n.useState)("")),i=Object(s.a)(l,2),o=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),f=p[0],b=p[1],h=Object(c.c)(),k=Object(c.d)((function(e){return e})),y=Object(n.useState)(""),j=Object(s.a)(y,2),O=j[0],v=j[1],S=k.hasilSearch,w=k.isSearching,T=Object(n.useState)("Surakarta"),_=Object(s.a)(T,2),N=_[0],A=_[1],x=function(e){var a=e.props,t="";a.layanans.length>0?t=a.layanans.map((function(e){return e.nama})).join(", "):t="-";return r.a.createElement(m.i,{button:!0,routerLink:"/pengantri/cari/"+a.kode},r.a.createElement(m.k,{className:"ion-no-padding ion-padding-vertical"},r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.d,null,r.a.createElement("img",{src:"/assets/img/location-outline.svg"}),"\xa0"),r.a.createElement(m.w,null,r.a.createElement("h3",null,a.nama),r.a.createElement("p",null,"@",a.kode)),r.a.createElement("div",{slot:"end",className:"ion-text-right ion-justify-content-right custom-review-text ion-hide"},r.a.createElement(m.s,{icon:M.F,color:"warning"}),r.a.createElement(m.s,{icon:M.F,color:"warning"}),r.a.createElement(m.s,{icon:M.F,color:"warning"}),r.a.createElement(m.s,{icon:M.F,color:"warning"}),r.a.createElement(m.s,{icon:M.E,color:"warning"}),"(76)"))),r.a.createElement(m.j,null,r.a.createElement("p",null,r.a.createElement("b",null,"Deskripsi: "),a.deskripsi),r.a.createElement("p",null,r.a.createElement("b",null,"Alamat: "),a.alamat),r.a.createElement("p",null,r.a.createElement("b",null,"Wilayah: "),a.wilayah),a.layanans.length<1?"":r.a.createElement("p",null,r.a.createElement("b",null,"Layanan: "),t)))};function I(){return C.apply(this,arguments)}function C(){return(C=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(o),console.log("search: "+o),a={searchText:o},h(he(!0)),h(Ee(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.Q,null,"Reservasi"))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){u(""),b(!1),setTimeout((function(){return e.detail.complete()}),1),aa()("#search-bar").val("")}},r.a.createElement(m.D,null)),r.a.createElement(m.z,{isOpen:t}),r.a.createElement(m.F,{className:"ion-align-items-center"},r.a.createElement(m.n,null,r.a.createElement(m.G,{id:"search-bar",onIonChange:function(e){u(e.detail.value)},placeholder:'misal "bank" atau "tukar"',onKeyDown:function(e){13===e.keyCode&&(aa()("input").blur(),I())}})),r.a.createElement("div",{className:"ion-margin-end"},r.a.createElement(m.g,{onClick:function(){return I()}},r.a.createElement(m.s,{icon:M.C})),r.a.createElement(m.g,{color:"primary",fill:f?"solid":"outline",className:"ion-margin-vertical",onClick:function(){return b(!f)}},r.a.createElement(m.s,{size:"small",icon:M.q})))),f?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,"Wilayah:"),r.a.createElement(m.J,{onIonChange:function(e){return A(e.detail.value)},value:N,interface:"alert"},la.map((function(e){return r.a.createElement(m.K,{key:e,value:e},e)})))),r.a.createElement(m.v,{className:"custom-divider"})):"",w?r.a.createElement("div",{className:"ion-padding"},r.a.createElement(m.L,null)):Array.isArray(S)&&S.length>0&&o===O?S.map((function(e){return f?e.wilayah==N?r.a.createElement(x,{key:e.id,props:e}):"":r.a.createElement(x,{key:e.id,props:e})})):""===o?r.a.createElement("div",{className:"ion-padding ion-text-center"},'Anda bisa mencari gerai berdasarkan nama gerai atau layanan yang ada di dalamnya. Misal "bank ngadirejo" atau "tukar uang"'):o===O?r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"ion-padding-horizontal"},"Tiada hasil untuk ",r.a.createElement("b",null,'"',o,'"')))}),null):"",r.a.createElement(U.c,{className:"ion-hide",to:"/pengantri/cari/geraibaru/priksamata"},"shortcut"),r.a.createElement("div",{className:"custom-filler"})))},wa=function(){var e=Object(n.useState)("layanan"),a=Object(s.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=o[0],d=o[1],p=Object(c.c)(),f=window.location.href.split("/")[5],g=Object(c.d)((function(e){return e})),E=g.gerais,b="undefined"===typeof E[f]?{}:E[f],h=g.isFetching;Object(n.useEffect)((function(){"undefined"!==typeof b.kode||h?d(!1):(p(Se(!0)),d(!0),p(ke(f)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,{slot:"start"},r.a.createElement(m.e,{defaultHref:"/pengantri/cari"})),r.a.createElement(m.Q,null,u?f:b.nama))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){p(Se(!0)),d(!0),p(ke(f)),setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),b.nama?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ion-padding-vertical"},r.a.createElement(m.u,{lines:"none",mode:"md"},r.a.createElement(m.s,{icon:M.d,size:"large"}),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,u?"Gerai":b.nama),r.a.createElement("p",null,"@",u?"kode":b.kode)),r.a.createElement("div",{slot:"end",className:"ion-text-right ion-justify-content-right custom-review-text ion-hide"},r.a.createElement(m.s,{icon:M.F,color:"warning"}),r.a.createElement(m.s,{icon:M.F,color:"warning"}),r.a.createElement(m.s,{icon:M.F,color:"warning"}),r.a.createElement(m.s,{icon:M.F,color:"warning"}),r.a.createElement(m.s,{icon:M.E,color:"warning"}),"(76)")),r.a.createElement("div",{className:"ion-padding-top ion-padding-horizontal"},r.a.createElement(m.w,null,r.a.createElement("h3",null,u?"Ini adalah deskripsi gerai":b.deskripsi),"undefined"===typeof b.alamat?"":r.a.createElement("h3",null,r.a.createElement("a",{target:"_blank",className:"cust-no-dec",href:""===b.tautan||"undefined"===typeof b.tautan?"https://www.google.co.id/maps/search/"+b.alamat.replace(" ","+"):b.tautan},b.alamat))))),r.a.createElement(m.H,{value:t,mode:"md",scrollable:!0},r.a.createElement(m.I,{value:"layanan",onClick:function(){return l("layanan")}},r.a.createElement(m.w,null,"Layanan")),r.a.createElement(m.I,{value:"info",onClick:function(){return l("info")}},r.a.createElement(m.w,null,"Info"))),r.a.createElement("div",{className:"layanan"===t?"":"custom-hidden"},r.a.createElement((function(){g.pemilik.layanans;var e="undefined"===typeof E[f]?[]:b.layanans,a=e.length>0,t=e.length,n=function(e){var a=e.title,t=e.laykode,n=e.aktif;return r.a.createElement(m.n,null,r.a.createElement(m.i,{style:n?{}:{backgroundColor:"#dddddd"},mode:"md",className:"ion-no-margin",button:!0,routerLink:"/pengantri/cari/"+f+"/"+t},r.a.createElement(m.j,{className:"ion-justify-content-center ion-text-center"},r.a.createElement(m.s,{icon:M.t,size:"large",color:"primary"}),r.a.createElement("br",null),r.a.createElement(m.w,null,a))))},l=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.n,{key:"invis1"},r.a.createElement(m.i,{mode:"md",className:"ion-no-margin opacity-0"},r.a.createElement(m.j,{className:"ion-justify-content-center ion-text-center"},r.a.createElement(m.s,{icon:M.a,size:"large",color:"dark"}),r.a.createElement("br",null),r.a.createElement(m.w,null,"Tambah")))))},i=function(e){var a=e.width;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.n,{key:"invis1"},r.a.createElement(m.i,{mode:"md",className:"ion-no-margin opacity-0"},r.a.createElement(m.j,{className:"ion-justify-content-center ion-text-center"},r.a.createElement(m.s,{icon:M.a,size:"large",color:"dark"}),r.a.createElement("br",null),r.a.createElement(m.w,null,"Tambah")))),"1"===a?"":r.a.createElement(m.n,{key:"invis2"},r.a.createElement(m.i,{mode:"md",className:"ion-no-margin opacity-0"},r.a.createElement(m.j,{className:"ion-justify-content-center ion-text-center"},r.a.createElement(m.s,{icon:M.a,size:"large",color:"dark"}),r.a.createElement("br",null),r.a.createElement(m.w,null,"Tambah")))))},c=new Array(0),o=0;a&&e.forEach((function(e){c[o]={title:e.nama,kode:e.kode}}));var u=Math.ceil(t/3),s=new Array(new Array(0)),d=0,p=0;for(o=0;o<u;o++)d<t?s[o][0]=e[d]:(s[o][0]={title:"--tambahan",tumbuhanID:p},p++),++d<t?s[o][1]=e[d]:(s[o][1]={title:"--tambahan",tumbuhanID:p},p++),++d<t?s[o][2]=e[d]:(s[o][2]={title:"--tambahan",tumbuhanID:p},p++),d++,o++;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,s.map((function(e,a){return r.a.createElement(m.F,{key:"baris"+a},e.map((function(e){return"--tambahan"===e.title?0===e.tumbuhanID?r.a.createElement(l,{key:"tambahan"}):r.a.createElement(i,{width:"1",key:"tambahan"+e.tumbuhanID}):r.a.createElement(n,{title:e.nama,key:e.id,laykode:e.kode,aktif:e.aktif})})))}))):r.a.createElement(m.F,null,r.a.createElement(l,null),r.a.createElement(i,{width:"2"})))}),null))):r.a.createElement("div",{className:"ion-padding"},r.a.createElement(m.L,null)),r.a.createElement("div",{className:"custom-filler"})))},Ta=function(){var e=window.location.href.split("/"),a=e[5],t=e[6],l=Object(c.d)((function(e){return e})),i=(l.tabRefresh,Object(c.c)()),o=(l.calonSlot,l.isFetching),u=function(){var e=(new Date).getDay()-1;return e>=0?e:e+7}(),d=Object(n.useState)(""),p=Object(s.a)(d,2),f=p[0],b=p[1],k=Object(n.useState)(0),y=Object(s.a)(k,2),O=y[0],v=y[1],S=Object(n.useState)(!1),w=Object(s.a)(S,2),T=w[0],_=w[1],N=Object(n.useState)(!1),I=Object(s.a)(N,2),C=I[0],L=I[1];var K=Object(n.useState)(!1),F=Object(s.a)(K,2),P=(F[0],F[1]),R="undefined"===typeof l.layanans[a+"-"+t]?{}:l.layanans[a+"-"+t],U=Object(n.useState)(""),M=Object(s.a)(U,2),H=M[0],G=M[1],J=(new Array(0),Object(n.useState)(!1)),z=Object(s.a)(J,2),W=z[0],Y=z[1],V=Object(n.useState)(0),Z=Object(s.a)(V,2),$=Z[0],X=Z[1],ee=Object(n.useState)(0),ae=Object(s.a)(ee,2),te=(ae[0],ae[1],Object(n.useState)("")),ne=Object(s.a)(te,2),re=ne[0],le=ne[1],ie=l.sedangPesan,ce=Object(n.useState)(!1),oe=Object(s.a)(ce,2),ue=oe[0],se=oe[1],me=l.isDeleting,de=Object(n.useState)(!1),pe=Object(s.a)(de,2),fe=pe[0],ge=pe[1];function Ee(){return(Ee=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f||b(f||(window.location.href.split("/")[7]?window.location.href.split("/")[7]:R.forSelect[0].tanggal)),e.next=3,A();case 3:e.t0=e.sent,e.t1=l.pengantri.id,e.t2=R.klaster.id,e.t3=R.id,e.t4=f||(window.location.href.split("/")[7]?window.location.href.split("/")[7]:R.forSelect[0].tanggal),e.t5=R.klaster.prefix,e.t6=$,a={token:e.t0,id_pengantri:e.t1,id_klaster:e.t2,id_layanan:e.t3,tanggal:e.t4,prefix:e.t5,slot:e.t6},i(Te(!0)),i(we(a));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Ce(!0)),e.next=3,A();case 3:e.t0=e.sent,e.t1=l.pengantri.id,e.t2=f,a={token:e.t0,id_pengantri:e.t1,tanggal:e.t2},i(Ie(a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,a){console.log("param",R.klaster.id,a);var t=j.collection("pesanan").where("id_klaster","==",R.klaster.id).where("tanggal","==",a.toString()).onSnapshot((function(e){L(!0),function(e){e.empty&&X(1);var a=0;e.forEach((function(e){var t=parseInt(e.data().slot);a=a<t?t:a})),X(a+1)}(e);var a=!1;e.forEach((function(e){console.log("pes",e.data()),e.data().id_pengantri===l.pengantri.id&&"1"!=e.data().status&&4!=e.data().status&&(a=!0)})),_(a)}));"stop"===e&&t()}return Object(n.useEffect)((function(){if("undefined"!==typeof l.layanans[a+"-"+t]||o)P(!1);else{var e={geraiKode:a,layananKode:t};P(!0),i(Oe(e)),i(Se(!0))}if("undefined"!==typeof l.layanans[a+"-"+t]&&!W){Y(!0);var n=JSON.parse(R.klaster.jadwal);G(n[u])}if("undefined"!==typeof l.layanans[a+"-"+t]){var r=JSON.parse(R.klaster.jadwal),c=0;R.forSelect.forEach((function(e,a){e.tanggal===f&&(c=a)})),G(r[(u+c)%7]),fe||(ge(!0),he("start",""===f?B():f));var s={slot:$,hari:O,jadwal:r,durasi:R.klaster.durasi};le(x(s)),parseInt(l.pengantri.banned)<=B()&&!o&&(i(Se(!0)),i(function(e){return function(a){h.a.get(q+"/pengantri/clearBan?"+Object(Q.stringify)(e)).then((function(e){console.log("clearBan?",e.data),a(qe(!1))}))}}({id_pengantri:l.pengantri.id})))}if("undefined"!==typeof window.location.href.split("/")[7]&&""==f){var m=window.location.href.split("/")[7];b(m)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,{slot:"start"},r.a.createElement(m.e,{defaultHref:"/pengantri/cari/"+a})),r.a.createElement(m.Q,null,t))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){!function(){var e={geraiKode:a,layananKode:t};P(!0),i(Se(!0)),i(Oe(e))}(),setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),r.a.createElement(m.g,{id:"btn-to-antrian",className:"ion-hide",routerLink:"/pengantri/antrian"}),o?r.a.createElement("div",{className:"ion-padding"},r.a.createElement(m.L,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.v,{mode:"ios"},"Detail"),r.a.createElement("div",{className:"ion-padding-horizontal"},r.a.createElement("p",null,r.a.createElement("b",null,"Deskripsi"),r.a.createElement("br",null),"undefined"===typeof R?"":R.deskripsi),r.a.createElement("p",null,r.a.createElement("b",null,"Syarat"),r.a.createElement("br",null),"undefined"===typeof R?"":R.syarat)),"undefined"===typeof R.forSelect?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(m.v,{mode:"ios"},"Pesan"),l.pengantri.banned?r.a.createElement("div",{className:"ion-padding"},"Anda tidak bisa melakukan reservasi sebelum ",r.a.createElement("b",null,D(l.pengantri.banned.toString()))," karena sudah 3 kali keterlambatan"):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{className:"ion-no-margin",lines:"none"},r.a.createElement(m.w,null,r.a.createElement("b",null,"Hari")),r.a.createElement(m.J,{value:f||(window.location.href.split("/")[7]?window.location.href.split("/")[7]:R.forSelect[0].tanggal),onIonChange:function(e){var a;b(e.detail.value),a=e.detail.value,L(!1),_(!1),he("stop",a),he("start",a)}},R.forSelect.map((function(e,a){return r.a.createElement(m.K,{key:e.tanggal,value:e.tanggal,onClick:function(){return v((u+a)%7)}},e.display)})))),""===H?"":C?T?r.a.createElement("div",{className:"ion-padding-horizontal"},r.a.createElement("p",null," Anda sudah pesan layanan ini di hari tersebut. Untuk melihatnya, silahkan cek di Tab Antrian"),r.a.createElement(m.g,{disabled:me,onClick:function(){return se(!0)},color:"danger"},"Batalkan reservasi")):r.a.createElement(m.i,null,r.a.createElement(m.j,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("b",null,"Slot")),r.a.createElement("b",{slot:"end"},R.klaster.prefix+$)),r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("p",null,"Jam operasional")),r.a.createElement("p",{slot:"end"},""!==H?H:"libur")),r.a.createElement(m.u,{className:"ion-no-margin",lines:"none"},r.a.createElement(m.w,null,r.a.createElement("p",null,"Perkiraan dipanggil")),r.a.createElement("p",{slot:"end"},re)),r.a.createElement("div",{className:"ion-padding"},r.a.createElement(m.g,{expand:"block",disabled:ie,onClick:function(){return function(){return Ee.apply(this,arguments)}()}},"Pesan slot")))):r.a.createElement(m.L,null)))),r.a.createElement(m.g,{className:"ion-hide",id:"btn-cari-refresh",routerLink:"/pengantri/cari"}),"undefined"===typeof R.forSelect?"":r.a.createElement(m.b,{isOpen:ue,onDidDismiss:function(){return se(!1)},header:"Peringatan",message:"Batalkan reservasi untuk hari tersebut?",buttons:[{text:"Tidak",role:"cancel",cssClass:"secondary"},{text:"Ya",handler:function(){!function(){be.apply(this,arguments)}()}}]})))},_a=function(){var e=Object(c.d)((function(e){return e})),a=e.pengantri,t=Object(c.c)(),l=e.pengguna,i=e.isFetching,o=e.isFetchingUser,u=e.fcmToken,d=e.fcmTokenOnCloud,f=Object(n.useState)(!1),b=Object(s.a)(f,2),k=b[0],y=b[1];function j(){return(j=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=_e,e.next=4,A();case 4:e.t2=e.sent,e.t3={token:e.t2},e.t4=(0,e.t1)(e.t3),(0,e.t0)(e.t4);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:a=e.sent,t(je(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e;""!==a.id||o||(t(Ae(!0)),function(){j.apply(this,arguments)}()),""===l.uid?function(){O.apply(this,arguments)}():("notInitialized"==d&&!k&&u&&(y(!0),t((e={id_pengguna:l.uid,fcmToken:u},function(a){h.a.get(q+"/pengguna/getFcmToken?"+Object(Q.stringify)(e)).then((function(e){console.log("fcmTokenFromCloud?",e.data),a(Ze(e.data))}))}))),u||t((function(e){function a(){return(a=Object(E.a)(g.a.mark((function a(){var t,n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,V.readFile({path:"nori/noriconfig.txt",directory:Y.a.ExternalStorage,encoding:Y.b.UTF8}).catch((function(e){h.a.get(q+"/error/submit?error="+JSON.stringify(e)).then()}));case 2:t=a.sent,console.log(t),n=JSON.stringify(t).split('"')[3],e(Ve(n));case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()})))}));var v=Object(n.useState)("antrian"),S=Object(s.a)(v,2),w=S[0],T=S[1];function _(e){t({type:"SET_TAB_REFRESH",payload:e})}return o||"notInitialized"==d?r.a.createElement(F,null):r.a.createElement(m.O,null,r.a.createElement(m.E,null,r.a.createElement(p.e,null,r.a.createElement(p.b,{exact:!0,from:"/pengantri",to:"/pengantri/antrian"}),r.a.createElement(p.c,{path:"/pengantri/antrian",render:function(){return r.a.createElement(va,null)},exact:!0}),r.a.createElement(p.c,{path:"/pengantri/cari",render:function(){return r.a.createElement(Sa,null)},exact:!0}),r.a.createElement(p.c,{exact:!0,path:"/pengantri/cari/:id",component:wa}),r.a.createElement(p.c,{exact:!0,path:"/pengantri/cari/:id/:id",component:Ta}),r.a.createElement(p.c,{exact:!0,path:"/pengantri/cari/:id/:id/:tanggal",component:Ta}),r.a.createElement(p.c,{path:"/pengantri/akun",render:function(){return r.a.createElement(ka,null)},exact:!0}),r.a.createElement(p.c,{path:"/pengantri/akun/edit",render:function(){return r.a.createElement(ba,null)},exact:!0}),r.a.createElement(p.c,{exact:!0,path:"/pengantri/akun/logout",component:$e}))),r.a.createElement(m.z,{isOpen:i}),r.a.createElement(m.M,{slot:"bottom",selectedTab:"antrian"},r.a.createElement(m.N,{tab:"antrian",href:"/pengantri/antrian",onClick:function(){"antrian"===w&&_("antrian"),T("antrian")},id:"tab-antrian-btn"},r.a.createElement(m.s,{icon:M.e}),r.a.createElement(m.w,null,"Antrian")),r.a.createElement(m.N,{tab:"cari",href:"/pengantri/cari",id:"tab-reservasi-btn",onClick:function(){"reservasi"===w&&_("reservasi"),T("reservasi")}},r.a.createElement(m.s,{icon:M.n}),r.a.createElement(m.w,null,"Reservasi")),r.a.createElement(m.N,{tab:"akun",href:"/pengantri/akun",id:"tab-akun-btn",onClick:function(){"akun"===w&&_("akun"),T("akun")}},r.a.createElement(m.s,{icon:M.y}),r.a.createElement(m.w,null,"Akun"))))},Na=function(){var e,a,t=Object(c.d)((function(e){return e})),l=Object(c.d)((function(e){return e.role})),i=t.pengguna,o=!!t.staf.id_gerai,u=t.geraiForStaf,d=t.isFetchingGerai,p=Object(c.c)(),f=t.staf,b=Object(n.useState)(""),h=Object(s.a)(b,2),k=(h[0],h[1]),y=Object(n.useState)(""),j=Object(s.a)(y,2),O=j[0],v=j[1],S=Object(n.useState)(!1),w=Object(s.a)(S,2),T=w[0],N=w[1],x=Object(n.useState)(!1),I=Object(s.a)(x,2),C=I[0],B=I[1],D=t.isFetching;function L(){return(L=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:e.t0=e.sent,e.t1=f.id_gerai,a={token:e.t0,id_gerai:e.t1},p(He(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(Se(!0)),e.t0=p,e.t1=Qe,e.next=5,A();case 5:e.t2=e.sent,e.t3=f.id,e.t4={token:e.t2,id_staf:e.t3},e.t5=(0,e.t1)(e.t4),(0,e.t0)(e.t5);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(o&&""===u.id&&!d&&function(){L.apply(this,arguments)}(),u.id&&(u.klasters[0]&&N(!0),T)){var e=u.klasters[0].id;k(e),function(){var e=u.klasters[0].jadwal;v(e)}()}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.h,null,r.a.createElement(m.J,{interface:"popover",value:l,onIonChange:function(e){return a=e.target.value,void(window.location.href="/"+a);var a}},r.a.createElement(m.K,{value:"pengantri"},"Pengantri"),r.a.createElement(m.K,{value:"pemilik"},"Pemilik"),r.a.createElement(m.K,{value:"staf"},"Staf"))),r.a.createElement(m.h,{slot:"end"},r.a.createElement(m.g,{fill:"clear",color:"danger",onClick:function(){_((function(e){!0===e&&(window.location.href="/")}))}},"Logout")))),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){p(je(K.auth().currentUser)),setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),r.a.createElement(m.z,{isOpen:D}),r.a.createElement("div",{className:"ion-padding-vertical ion-padding-end"},r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.d,null,i.photoURL?r.a.createElement("img",{src:i.photoURL}):r.a.createElement("img",{src:"/assets/img/person-circle-outline.svg"})),"\xa0",r.a.createElement(m.w,null,r.a.createElement("h3",null,i.displayName?i.displayName:"user tanpa nama"),r.a.createElement("p",null)),(null===(e=K.auth().currentUser)||void 0===e?void 0:e.emailVerified)?r.a.createElement(m.s,{icon:M.v}):"",r.a.createElement(m.s,{className:(null===(a=K.auth().currentUser)||void 0===a?void 0:a.emailVerified)?"ion-hide":"",onClick:function(){return aa()("#btn-edit-akun").click()},icon:M.m}))),r.a.createElement(m.v,{className:"custom-divider"}),r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("h3",null,"Email")),r.a.createElement(m.w,{slot:"end",className:"ion-text-right"},r.a.createElement("p",null,i.email))),r.a.createElement(m.v,{mode:"ios"},"Gerai"),o?u.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("h3",null,u.nama),r.a.createElement("p",null,u.alamat)),r.a.createElement(m.s,{icon:M.z,color:"danger",onClick:function(){return B(!0)}})),r.a.createElement(m.v,{mode:"ios"},"Waktu Operasional"),T?r.a.createElement(m.u,null,r.a.createElement(m.w,null,r.a.createElement("h3",null,"Klaster")),r.a.createElement(m.J,{interface:"popover",value:u.klasters[0].id,onIonChange:function(e){return k(e.detail.value)}},u.klasters.map((function(e){return r.a.createElement(m.K,{key:e.id,value:e.id},e.nama)})))):r.a.createElement("div",{className:"ion-padding"},"Gerai ini tidak memiliki klaster layanan"),""===O?"":JSON.parse(O).map((function(e,a){return r.a.createElement(m.u,{key:a},r.a.createElement(m.w,null,r.a.createElement("p",null,["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"][a])),r.a.createElement("p",{slot:"end"},e||"libur"))}))):r.a.createElement(m.L,{className:"ion-margin"}):r.a.createElement("div",{className:"ion-padding"},"Anda tidak bekerja di gerai manapun"),r.a.createElement(m.g,{className:"ion-hide",id:"btn-logout",onClick:function(){_((function(e){!0===e&&(window.location.href="/")}))}},"Logout"),r.a.createElement(m.g,{className:"ion-hide",routerLink:"/staf/akun/edit",id:"btn-edit-akun"}),r.a.createElement("div",{className:"custom-filler"})),r.a.createElement(m.b,{isOpen:C,onDidDismiss:function(){return B(!1)},header:"Peringatan",message:"Anda yakin akan mengundurkan diri dari <b>"+u.nama+"<b>?",buttons:[{text:"Batal",role:"cancel",cssClass:"secondary"},{text:"Konfirmasi",handler:function(){!function(){F.apply(this,arguments)}()}}]}))},Aa=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(!1),c=Object(s.a)(i,2),o=c[0],u=c[1];return Object(n.useEffect)((function(){o||(u(!0),setInterval((function(){var e=new Date,a=e.getHours()<10?"0"+e.getHours():e.getHours(),t=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),n=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();l(a+":"+t+":"+n)}),1e3))})),r.a.createElement(r.a.Fragment,null,t)},xa=function(){var e=Object(c.d)((function(e){return e})),a=!!e.staf.id_gerai,t=Object(c.d)((function(e){return e.geraiForStaf})),l=Object(c.c)(),i=e.isFetchingGerai,o=Object(n.useState)(""),u=Object(s.a)(o,2),d=u[0],p=u[1],f=Object(n.useState)(!1),b=Object(s.a)(f,2),h=b[0],k=b[1],y=Object(n.useState)(!1),O=Object(s.a)(y,2),v=O[0],S=O[1],w=Object(n.useState)(!1),T=Object(s.a)(w,2),_=T[0],N=T[1],I=Object(n.useState)(""),C=Object(s.a)(I,2),D=C[0],F=C[1],P=Object(n.useState)(0),R=Object(s.a)(P,2),U=R[0],M=R[1],H=Object(n.useState)(!1),G=Object(s.a)(H,2),z=G[0],W=G[1],q=e.isFetching,Q=Object(n.useState)(""),Y=Object(s.a)(Q,2),V=Y[0],Z=Y[1],$=Object(n.useState)(""),X=Object(s.a)($,2),ee=X[0],ae=X[1],te=Object(n.useState)(""),ne=Object(s.a)(te,2),re=ne[0],le=ne[1],ie=Object(n.useState)(!1),ce=Object(s.a)(ie,2),oe=ce[0],ue=ce[1],se=Object(n.useState)(!1),me=Object(s.a)(se,2),de=me[0],pe=me[1];function fe(e){console.log("curparam",D,B().toString());var a=j.collection("pesanan").where("id_klaster","==",D).where("tanggal","==",B().toString()).onSnapshot((function(e){ue(!0),S(!0),console.log("listener initiated");var a=0,t=0;e.forEach((function(e){e.data().status&&3!=e.data().status||(console.log("active",e.data()),console.log("jml",a),0==a?(console.log("ant",e.data()),t=parseInt(e.data().slot)):(0==t&&(t=parseInt(e.data().slot)),t>e.data().slot&&(t=parseInt(e.data().slot)))),0!=e.data().slot?a++:W(!0)})),console.log("smallest",t);var n=!1;e.forEach((function(e){var a;e.data().slot==t&&0!=t&&(n=!0,a=Object(J.a)({},e.data(),{id:e.id}),Z(a.id),le(a.prefix),ae(a.slot),ue(!1))})),n||ae("0"),ue(!1),M(a)}));"stop"===e&&a()}function ge(){return(ge=Object(E.a)(g.a.mark((function a(){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A();case 2:a.t0=a.sent,a.t1=e.staf.id_gerai,t={token:a.t0,id_gerai:a.t1},l(He(t));case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function Ee(){return(Ee=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:e.t0=e.sent,e.t1=D,e.t2=B(),a={token:e.t0,id_klaster:e.t1,tanggal:e.t2},l(Se(!0)),l(Je(a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(!0),e.t0=l,e.t1=ze,e.t2=V,e.next=6,A();case 6:e.t3=e.sent,e.t4={id_pesanan:e.t2,token:e.t3},e.t5=(0,e.t1)(e.t4),(0,e.t0)(e.t5);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(E.a)(g.a.mark((function e(){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(!0),a=new Array(0),n="",t.klasters.forEach((function(e){e.id===D&&(a=JSON.parse(e.jadwal),n=e.durasi)})),r={slot:ee,hari:L(B()),jadwal:a,durasi:parseInt(n)},e.t0=l,e.t1=We,e.t2=V,e.next=10,A();case 10:e.t3=e.sent,e.t4=x(r),e.t5={id_pesanan:e.t2,token:e.t3,perkiraan:e.t4},e.t6=(0,e.t1)(e.t5),(0,e.t0)(e.t6);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!a||t.id||i||function(){ge.apply(this,arguments)}(),t.id&&!_&&(console.log("initiating"),N(!0),t.klasters[0]&&(pe(!0),p(t.klasters[0].id),F(t.klasters[0].id))),t.id&&d!==D&&(t.klasters.forEach((function(e){e.id===d&&F(e.id)})),fe("stop"),k(!1),W(!1)),!h&&D&&(k(!0),fe("start"))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.r,null,r.a.createElement(m.S,null,r.a.createElement(m.Q,null,"Platform (live)"),de?r.a.createElement(m.h,{slot:"end",className:"ion-padding-end"},r.a.createElement(m.J,{interface:"popover",value:d||t.klasters[0].id,onIonChange:function(e){return p(e.detail.value)}},t.klasters.map((function(e){return r.a.createElement(m.K,{key:e.id,value:e.id},e.nama)})))):"")),r.a.createElement(m.o,null,r.a.createElement(m.C,{slot:"fixed",onIonRefresh:function(e){l(je(K.auth().currentUser)),setTimeout((function(){return e.detail.complete()}),1)}},r.a.createElement(m.D,null)),a?de?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.v,{mode:"ios"},"Dashboard"),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Waktu"),r.a.createElement("p",{slot:"end"},r.a.createElement(Aa,null))),r.a.createElement(m.u,{lines:"none"},r.a.createElement("b",null,"Antrian hari ini"),r.a.createElement("p",{slot:"end"},U)),r.a.createElement(m.v,{mode:"ios"},"Layani"),v?z?oe?r.a.createElement(m.L,{className:"ion-margin"}):"0"==ee?r.a.createElement("div",{className:"ion-padding custom-width-100 ion-justify-content-center ion-text-center"},"Sementara tidak ada antrian menunggu. Yay!"):r.a.createElement(m.i,null,r.a.createElement(m.j,null,r.a.createElement(m.u,{lines:"none"},r.a.createElement(m.w,null,r.a.createElement("h3",null,"No. Urut")),r.a.createElement("b",{slot:"end"},re+"-"+ee)),r.a.createElement(m.v,{className:"custom-divider"}),r.a.createElement(m.F,null,r.a.createElement(m.n,null,r.a.createElement(m.g,{onClick:function(){return function(){return he.apply(this,arguments)}()},expand:"block",fill:"outline"},"Tidak Hadir")),r.a.createElement(m.n,null,r.a.createElement(m.g,{onClick:function(){return function(){return be.apply(this,arguments)}()},expand:"block"},"Selesai"))))):r.a.createElement("div",{className:"ion-padding custom-width-100 ion-justify-content-center ion-text-center"},"Klaster ini belum buka ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(m.g,{disabled:q,onClick:function(){return function(){return Ee.apply(this,arguments)}()}},"Buka")):r.a.createElement(m.L,{className:"ion-margin"})):r.a.createElement("div",{className:"ion-padding custom-width-100 ion-justify-content-center ion-text-center"},"Gerai ini tidak memiliki klaster layanan"):r.a.createElement("div",{className:"ion-padding custom-width-100 ion-justify-content-center ion-text-center"},"Anda tidak bekerja di gerai manapun"),r.a.createElement("div",{className:"custom-filler"})))},Ia=function(){var e=Object(c.d)((function(e){return e})),a=e.pengguna,t=e.isFetchingUser,l=Object(c.c)(),i=e.staf,o=(e.isFetching,e.isFetchingStaf);function u(){return(u=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:a=e.sent,l(je(a)),l(Ae(!1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(De(!0)),e.t0=l,e.t1=Be,e.next=5,A();case 5:e.t2=e.sent,e.t3=a.id,e.t4=null===(t=K.auth().currentUser)||void 0===t?void 0:t.email,e.t5={token:e.t2,id_pengguna:e.t3,email:e.t4},e.t6=(0,e.t1)(e.t5),(0,e.t0)(e.t6);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(Object(n.useEffect)((function(){""!==a.uid||t||(l(Ae(!0)),function(){u.apply(this,arguments)}()),""!==i.id||o||function(){s.apply(this,arguments)}()})),t||o?r.a.createElement(F,null):r.a.createElement(m.O,null,r.a.createElement(m.E,null,r.a.createElement(p.e,null,r.a.createElement(p.b,{exact:!0,from:"/staf",to:"/staf/platform"}),r.a.createElement(p.c,{exact:!0,path:"/staf/akun",component:Na}),r.a.createElement(p.c,{exact:!0,path:"/staf/akun/edit",component:ba}),r.a.createElement(p.c,{exact:!0,path:"/staf/platform",component:xa}))),r.a.createElement(m.M,{slot:"bottom"},r.a.createElement(m.N,{tab:"platform",href:"/staf/platform"},r.a.createElement(m.s,{icon:M.t}),r.a.createElement(m.w,null,"Platform")),r.a.createElement(m.N,{tab:"akun",href:"/staf/akun"},r.a.createElement(m.s,{icon:M.y}),r.a.createElement(m.w,null,"Akun")))))},Ca=(t(139),t(140),t(141),function(){return r.a.createElement(d.a,null,r.a.createElement(m.E,null,r.a.createElement(p.c,{exact:!0,path:"/pengantri",component:_a}),r.a.createElement(p.c,{exact:!0,path:"/pemilik",component:ha}),r.a.createElement(p.c,{exact:!0,path:"/staf",component:Ia}),r.a.createElement(p.c,{exact:!0,path:"/login",component:H}),r.a.createElement(p.c,{exact:!0,path:"/signup",component:G}),r.a.createElement(p.c,{exact:!0,path:"/error",component:P}),r.a.createElement(p.c,{exact:!0,path:"/",render:function(){return r.a.createElement(p.b,{to:"/pengantri"})}})))}),Ba=Object(c.b)()((function(){var e=Object(n.useState)(!0),a=Object(s.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=(o[0],o[1],Object(n.useState)(!1)),d=Object(s.a)(u,2),p=(d[0],d[1],Object(c.c)()),f=Object(n.useState)(!1),g=Object(s.a)(f,2);g[0],g[1];return Object(n.useEffect)((function(){N().then((function(e){e?(console.log(e),p({type:"SET_USER_STATE",payload:e.email}),window.location.href.includes("pengantri")?(p(Z("pengantri")),window.history.replaceState({},"","/pengantri")):window.location.href.includes("pemilik")?(p(Z("pemilik")),window.history.replaceState({},"","/pemilik")):window.location.href.includes("staf")?(p(Z("staf")),window.history.replaceState({},"","/staf")):(p(Z("pengantri")),window.history.replaceState({},"","/pengantri"))):window.location.href.includes("signup")?Z("signup"):(Z("login"),window.history.replaceState({},"","/login")),l(!1)}))}),[]),r.a.createElement(m.c,null,t?r.a.createElement(F,null):r.a.createElement(Ca,null))})),Da={antrians:[{id:1234,gerai:"Bank Ngadirejo",subLayanan:"Tukar Uang",prefix:"A",slot:117,current:67,perkiraan:"12:34",status:"berlangsung"},{id:1235,gerai:"Bank Masahan",subLayanan:"Tukar Uang",prefix:"A",slot:222,current:12,perkiraan:"Besok pukul 14:30",status:"terlambat"},{id:1236,gerai:"Bank Ngadirejo",subLayanan:"Tukar Uang",prefix:"A",slot:117,current:67,perkiraan:"12:34",status:"dipesan"}],pemilik:{isRegistered:!1,gerais:{layanans:new Array(0),klasters:new Array(0)},layanans:new Array(0),klasters:new Array(0)},geraisLoaded:!1,gerais:new Array(0),geraiNeedsUpdate:!1,layanansAreUpated:!1,layanans:new Array(0),jadwal:["","","","","","",""],addLayananIsComplete:!1,setLayananIsComplete:!1,geraisWithLayanansLoaded:new Array(0),addKlasterIsComplete:!1,pemilikBelongingsUpToDate:!1,fetchingPemilikBelongings:!1,chosenGeraiKode:"",error:"",backURLs:new Array(0),isSearching:!1,pengantri:{id:""},pengguna:{uid:""},tabRefresh:"antrian",sacredPath:{antrian:"",riwayat:"",cari:"",notifikasi:"",akun:""},pathHistory:{antrian:"",riwayat:"",cari:"",notifikasi:"",akun:""},isFetching:!1,sedangPesan:!1,pesanans:new Array(0),klasterRelateds:new Array(0),isDeleting:!1,isFetchingUser:!1,staf:{id:""},isFetchingStaf:!1,geraiStafs:new Array(0),rekrutStatus:"",geraiForStaf:{id:""},isFetchingGerai:!1,fcmToken:"",fcmTokenOnCloud:"notInitialized"};Boolean("localhost"==window.location.hostname||"[::1]"==window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var La=Object(o.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_TEMP_MESSAGE":return Object(J.a)({},e,{temp_message:n});case"SET_USER_STATE":return Object(J.a)({},e,{user:{username:n.split("@")[0]}});case"UNSET_STATE":return console.log("cekstate",e),{state:[]};case"SET_ANTRIANS":return Object(J.a)({},e,{antrians:n});case"SET_ROLE":return Object(J.a)({},e,{role:n});case"SET_PEMILIK_DATA":return Object(J.a)({},e,{pemilik:n});case"GERAI_NEEDS_UPDATE":return Object(J.a)({},e,{geraiNeedsUpdate:n});case"GERAIS_LOADED":return Object(J.a)({},e,{geraisLoaded:n});case"SET_GERAIS":return(s=e.pemilik).gerais=n,Object(J.a)({},e,{pemilik:s});case"SET_LOCAL_TOKEN":return Object(J.a)({},e,{tokenLastUpdated:n.updated,token:n.token});case"ADD_GERAI":var r=e.gerais;return r[n.kode]=n,Object(J.a)({},e,{gerais:r,isFetching:!1,geraiNeedsUpdate:!0});case"REMOVE_GERAI":var l=new Array,i=0;return e.gerais.forEach((function(e){e.kode!==n.kode&&(l[i]=e),i++})),Object(J.a)({},e,{gerais:l,geraiNeedsUpdate:!0});case"LAYANANS_ARE_UPDATED":return Object(J.a)({},e,{layanansAreUpated:n});case"SET_LAYANANS":var c=e.geraisWithLayanansLoaded;return e.geraisWithLayanansLoaded.includes(n.kode)||c.push(n.kode),Object(J.a)({},e,{layanans:n.layanans,setLayananIsComplete:!0,geraisWithLayanansLoaded:c});case"SET_JADWAL":var o=e.jadwal;return o[n.hari]=n.jadwal,Object(J.a)({},e,{jadwal:o});case"ADD_LAYANAN_IS_COMPLETE":var u=!n&&e.pemilikBelongingsUpToDate;return Object(J.a)({},e,{addLayananIsComplete:n,pemilikBelongingsUpToDate:u});case"SET_LAYANAN_IS_COMPLETE":return Object(J.a)({},e,{setLayananIsComplete:n});case"ADD_KLASTER_IS_COMPLETE":u=!n&&e.pemilikBelongingsUpToDate;return Object(J.a)({},e,{addKlasterIsComplete:n,pemilikBelongingsUpToDate:u});case"SET_KLASTER_BY_KODE":var s=e.pemilik;return Object(J.a)({},e,{pemilik:s});case"SET_PEMILIK_BELONGINGS":delete(s=e.pemilik).gerais,delete s.klasters,delete s.layanans,s=Object(J.a)({},s,{},n);var m=e.chosenGeraiKode;return""==m&&(m=Array.isArray(n.gerais)?n.gerais[0].kode:""),Object(J.a)({},e,{pemilik:s,pemilikBelongingsUpToDate:!0,fetchingPemilikBelongings:!1,chosenGeraiKode:m});case"SET_FETCHING_PEMILIK_BELONGINGS":return Object(J.a)({},e,{fetchingPemilikBelongings:n});case"SET_CHOSEN_GERAI":return console.log("state.chosengeraikode: "+n),Object(J.a)({},e,{chosenGeraiKode:n});case"SET_ERROR":return Object(J.a)({},e,{error:n});case"ADD_BACK_URL":var d=e.backURLs,p=Object(J.a)({payload:n},d);return Object(J.a)({},e,{backURLs:p});case"DEL_BACK_URL":return(d=e.backURLs).shift(),Object(J.a)({},e,{backURLs:d});case"SET_PEMILIK_UP_TO_DATE":return Object(J.a)({},e,{pemilikBelongingsUpToDate:n,isDeleting:!1});case"SET_IS_SEARCHING":return Object(J.a)({},e,{isSearching:n});case"SET_HASIL_SEARCH":var f=new Array(0);return Array.isArray(n)&&(f=n),Object(J.a)({},e,{hasilSearch:f,isSearching:!1});case"SET_PENGGUNA_DATA":return Object(J.a)({},e,{pengguna:n});case"SET_TAB_REFRESH":return Object(J.a)({},e,{tabRefresh:n});case"SET_SACRED_PATH":var g=e.sacredPath;return"antrian"===n.tab?g.antrian=n.path:"riwayat"===n.tab?g.riwayat=n.path:"cari"===n.tab?g.cari=n.path:"notifikasi"===n.tab?g.notifikasi=n.path:"akun"===n.tab&&(g.akun=n.path),Object(J.a)({},e,{sacredPath:g});case"SMART_PATH_MANAGER":n.split("/")[4];return Object(J.a)({},e,{pathHistory:""});case"ADD_LAYANAN_CACHE":var E=e.layanans;return E[n.identifier]=n,Object(J.a)({},e,{layanans:E,isFetching:!1});case"SET_IS_FETCHING":return Object(J.a)({},e,{isFetching:n});case"SET_IS_DELETING":return Object(J.a)({},e,{isDeleting:n});case"SET_PENGANTRI_DATA":return Object(J.a)({},e,{isFetchingUser:!1,pengantri:n});case"SEDANG_PESAN":return Object(J.a)({},e,{sedangPesan:n});case"SET_PESANANS":return Object(J.a)({},e,{pesanans:n});case"ADD_KLASTER_RELATED":var b=e.klasterRelateds;return b[n.identifier]=n,Object(J.a)({},e,{klasterRelateds:b,isFetching:!1});case"SET_IS_FETCHING_USER":return Object(J.a)({},e,{isFetchingUser:n});case"SET_IS_FETCHING_STAF":return Object(J.a)({},e,{isFetchingStaf:n});case"SET_STAF_DATA":return Object(J.a)({},e,{staf:n,isFetchingStaf:!1});case"ADD_STAFS_CACHE":var h=e.geraiStafs;return h[n.identifier]=n.stafs,Object(J.a)({},e,{geraiStafs:h,isFetching:!1});case"REKRUT_SELESAI":return Object(J.a)({},e,{isFetching:!1,rekrutStatus:n});case"SET_REKRUT_STATUS":return Object(J.a)({},e,{rekrutStatus:n});case"SET_GERAI_FOR_STAF":return Object(J.a)({},e,{geraiForStaf:n,isFetchingGerai:!1});case"SET_IS_FETCHING_GERAI":return Object(J.a)({},e,{isFetchingGerai:n});case"SET_BANNED":return Object(J.a)({},e,{pengantri:Object(J.a)({},e.pengantri,{banned:n}),isFetching:!1});case"BERHASIL_UNDUR_DIRI":return Object(J.a)({},e,{staf:{id:n.id_staf},isFetching:!1});case"SET_FCM_TOKEN":return Object(J.a)({},e,{fcmToken:n});case"SET_FCM_TOKEN_ON_CLOUD":return Object(J.a)({},e,{fcmTokenOnCloud:n})}}),Object(o.a)(u.a));i.a.render(r.a.createElement(c.a,{store:La},r.a.createElement(Ba,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,a,t){e.exports=t(142)},86:function(e,a,t){var n={"./ion-action-sheet-ios.entry.js":[147,36],"./ion-action-sheet-md.entry.js":[148,37],"./ion-alert-ios.entry.js":[149,20],"./ion-alert-md.entry.js":[150,21],"./ion-app_8-ios.entry.js":[151,9],"./ion-app_8-md.entry.js":[152,10],"./ion-avatar_3-ios.entry.js":[153,38],"./ion-avatar_3-md.entry.js":[154,39],"./ion-back-button-ios.entry.js":[155,40],"./ion-back-button-md.entry.js":[156,41],"./ion-backdrop-ios.entry.js":[157,78],"./ion-backdrop-md.entry.js":[158,79],"./ion-button_2-ios.entry.js":[159,42],"./ion-button_2-md.entry.js":[160,43],"./ion-card_5-ios.entry.js":[161,44],"./ion-card_5-md.entry.js":[162,45],"./ion-checkbox-ios.entry.js":[163,46],"./ion-checkbox-md.entry.js":[164,47],"./ion-chip-ios.entry.js":[165,48],"./ion-chip-md.entry.js":[166,49],"./ion-col_3.entry.js":[167,80],"./ion-datetime_3-ios.entry.js":[168,16],"./ion-datetime_3-md.entry.js":[169,17],"./ion-fab_3-ios.entry.js":[170,50],"./ion-fab_3-md.entry.js":[171,51],"./ion-img.entry.js":[172,81],"./ion-infinite-scroll_2-ios.entry.js":[173,34],"./ion-infinite-scroll_2-md.entry.js":[174,35],"./ion-input-ios.entry.js":[175,52],"./ion-input-md.entry.js":[176,53],"./ion-item-option_3-ios.entry.js":[177,54],"./ion-item-option_3-md.entry.js":[178,55],"./ion-item_8-ios.entry.js":[179,56],"./ion-item_8-md.entry.js":[180,57],"./ion-loading-ios.entry.js":[181,22],"./ion-loading-md.entry.js":[182,23],"./ion-menu_3-ios.entry.js":[183,58],"./ion-menu_3-md.entry.js":[184,59],"./ion-modal-ios.entry.js":[185,11],"./ion-modal-md.entry.js":[186,12],"./ion-nav_2.entry.js":[187,15],"./ion-popover-ios.entry.js":[188,13],"./ion-popover-md.entry.js":[189,14],"./ion-progress-bar-ios.entry.js":[190,60],"./ion-progress-bar-md.entry.js":[191,61],"./ion-radio_2-ios.entry.js":[192,62],"./ion-radio_2-md.entry.js":[193,63],"./ion-range-ios.entry.js":[194,64],"./ion-range-md.entry.js":[195,65],"./ion-refresher_2-ios.entry.js":[196,24],"./ion-refresher_2-md.entry.js":[197,25],"./ion-reorder_2-ios.entry.js":[198,32],"./ion-reorder_2-md.entry.js":[199,33],"./ion-ripple-effect.entry.js":[200,82],"./ion-route_4.entry.js":[201,66],"./ion-searchbar-ios.entry.js":[202,67],"./ion-searchbar-md.entry.js":[203,68],"./ion-segment_2-ios.entry.js":[204,69],"./ion-segment_2-md.entry.js":[205,70],"./ion-select_3-ios.entry.js":[206,71],"./ion-select_3-md.entry.js":[207,72],"./ion-slide_2-ios.entry.js":[208,83],"./ion-slide_2-md.entry.js":[209,84],"./ion-spinner.entry.js":[210,28],"./ion-split-pane-ios.entry.js":[211,85],"./ion-split-pane-md.entry.js":[212,86],"./ion-tab-bar_2-ios.entry.js":[213,73],"./ion-tab-bar_2-md.entry.js":[214,74],"./ion-tab_2.entry.js":[215,31],"./ion-text.entry.js":[216,75],"./ion-textarea-ios.entry.js":[217,76],"./ion-textarea-md.entry.js":[218,77],"./ion-toast-ios.entry.js":[219,26],"./ion-toast-md.entry.js":[220,27],"./ion-toggle-ios.entry.js":[221,18],"./ion-toggle-md.entry.js":[222,19],"./ion-virtual-scroll.entry.js":[223,87]};function r(e){if(!t.o(n,e))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=n[e],r=a[0];return t.e(a[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(n)},r.id=86,e.exports=r},88:function(e,a,t){var n={"./ion-icon.entry.js":[227,93]};function r(e){if(!t.o(n,e))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=n[e],r=a[0];return t.e(a[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(n)},r.id=88,e.exports=r}},[[76,7,8]]]);
//# sourceMappingURL=main.69892ecc.chunk.js.map